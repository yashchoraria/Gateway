"use strict";var Bs=Object.create;var je=Object.defineProperty;var Ds=Object.getOwnPropertyDescriptor;var Ws=Object.getOwnPropertyNames;var Us=Object.getPrototypeOf,zs=Object.prototype.hasOwnProperty;var i=(t,e)=>je(t,"name",{value:e,configurable:!0});var S=(t,e)=>()=>(t&&(e=t(t=0)),e);var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qs=(t,e)=>{for(var n in e)je(t,n,{get:e[n],enumerable:!0})},fr=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ws(e))!zs.call(t,o)&&o!==n&&je(t,o,{get:()=>e[o],enumerable:!(r=Ds(e,o))||r.enumerable});return t};var mr=(t,e,n)=>(n=t!=null?Bs(Us(t)):{},fr(e||!t||!t.__esModule?je(n,"default",{value:t,enumerable:!0}):n,t)),js=t=>fr(je({},"__esModule",{value:!0}),t);var gr=x(sn=>{var hr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");sn.encode=function(t){if(0<=t&&t<hr.length)return hr[t];throw new TypeError("Must be between 0 and 63: "+t)};sn.decode=function(t){var e=65,n=90,r=97,o=122,s=48,a=57,l=43,u=47,d=26,c=52;return e<=t&&t<=n?t-e:r<=t&&t<=o?t-r+d:s<=t&&t<=a?t-s+c:t==l?62:t==u?63:-1}});var un=x(ln=>{var br=gr(),an=5,yr=1<<an,wr=yr-1,Er=yr;function Vs(t){return t<0?(-t<<1)+1:(t<<1)+0}i(Vs,"toVLQSigned");function Hs(t){var e=(t&1)===1,n=t>>1;return e?-n:n}i(Hs,"fromVLQSigned");ln.encode=i(function(e){var n="",r,o=Vs(e);do r=o&wr,o>>>=an,o>0&&(r|=Er),n+=br.encode(r);while(o>0);return n},"base64VLQ_encode");ln.decode=i(function(e,n,r){var o=e.length,s=0,a=0,l,u;do{if(n>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(u=br.decode(e.charCodeAt(n++)),u===-1)throw new Error("Invalid base64 digit: "+e.charAt(n-1));l=!!(u&Er),u&=wr,s=s+(u<<a),a+=an}while(l);r.value=Hs(s),r.rest=n},"base64VLQ_decode")});var xe=x(F=>{function Zs(t,e,n){if(e in t)return t[e];if(arguments.length===3)return n;throw new Error('"'+e+'" is a required argument.')}i(Zs,"getArg");F.getArg=Zs;var vr=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,$s=/^data:.+\,.+$/;function Ve(t){var e=t.match(vr);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}i(Ve,"urlParse");F.urlParse=Ve;function Te(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}i(Te,"urlGenerate");F.urlGenerate=Te;function cn(t){var e=t,n=Ve(t);if(n){if(!n.path)return t;e=n.path}for(var r=F.isAbsolute(e),o=e.split(/\/+/),s,a=0,l=o.length-1;l>=0;l--)s=o[l],s==="."?o.splice(l,1):s===".."?a++:a>0&&(s===""?(o.splice(l+1,a),a=0):(o.splice(l,2),a--));return e=o.join("/"),e===""&&(e=r?"/":"."),n?(n.path=e,Te(n)):e}i(cn,"normalize");F.normalize=cn;function Sr(t,e){t===""&&(t="."),e===""&&(e=".");var n=Ve(e),r=Ve(t);if(r&&(t=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),Te(n);if(n||e.match($s))return e;if(r&&!r.host&&!r.path)return r.host=e,Te(r);var o=e.charAt(0)==="/"?e:cn(t.replace(/\/+$/,"")+"/"+e);return r?(r.path=o,Te(r)):o}i(Sr,"join");F.join=Sr;F.isAbsolute=function(t){return t.charAt(0)==="/"||vr.test(t)};function Gs(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var n=0;e.indexOf(t+"/")!==0;){var r=t.lastIndexOf("/");if(r<0||(t=t.slice(0,r),t.match(/^([^\/]+:\/)?\/*$/)))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}i(Gs,"relative");F.relative=Gs;var Tr=function(){var t=Object.create(null);return!("__proto__"in t)}();function Mr(t){return t}i(Mr,"identity");function Ks(t){return xr(t)?"$"+t:t}i(Ks,"toSetString");F.toSetString=Tr?Mr:Ks;function Js(t){return xr(t)?t.slice(1):t}i(Js,"fromSetString");F.fromSetString=Tr?Mr:Js;function xr(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var n=e-10;n>=0;n--)if(t.charCodeAt(n)!==36)return!1;return!0}i(xr,"isProtoString");function Qs(t,e,n){var r=Me(t.source,e.source);return r!==0||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0||n)||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=t.generatedLine-e.generatedLine,r!==0)?r:Me(t.name,e.name)}i(Qs,"compareByOriginalPositions");F.compareByOriginalPositions=Qs;function Xs(t,e,n){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0||n)||(r=Me(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:Me(t.name,e.name)}i(Xs,"compareByGeneratedPositionsDeflated");F.compareByGeneratedPositionsDeflated=Xs;function Me(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}i(Me,"strcmp");function Ys(t,e){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=Me(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Me(t.name,e.name)}i(Ys,"compareByGeneratedPositionsInflated");F.compareByGeneratedPositionsInflated=Ys;function ei(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}i(ei,"parseSourceMapInput");F.parseSourceMapInput=ei;function ti(t,e,n){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),n){var r=Ve(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var o=r.path.lastIndexOf("/");o>=0&&(r.path=r.path.substring(0,o+1))}e=Sr(Te(r),e)}return cn(e)}i(ti,"computeSourceURL");F.computeSourceURL=ti});var pn=x(Ir=>{var dn=xe(),_n=Object.prototype.hasOwnProperty,pe=typeof Map<"u";function ne(){this._array=[],this._set=pe?new Map:Object.create(null)}i(ne,"ArraySet");ne.fromArray=i(function(e,n){for(var r=new ne,o=0,s=e.length;o<s;o++)r.add(e[o],n);return r},"ArraySet_fromArray");ne.prototype.size=i(function(){return pe?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");ne.prototype.add=i(function(e,n){var r=pe?e:dn.toSetString(e),o=pe?this.has(e):_n.call(this._set,r),s=this._array.length;(!o||n)&&this._array.push(e),o||(pe?this._set.set(e,s):this._set[r]=s)},"ArraySet_add");ne.prototype.has=i(function(e){if(pe)return this._set.has(e);var n=dn.toSetString(e);return _n.call(this._set,n)},"ArraySet_has");ne.prototype.indexOf=i(function(e){if(pe){var n=this._set.get(e);if(n>=0)return n}else{var r=dn.toSetString(e);if(_n.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},"ArraySet_indexOf");ne.prototype.at=i(function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},"ArraySet_at");ne.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray");Ir.ArraySet=ne});var Nr=x(kr=>{var Lr=xe();function ni(t,e){var n=t.generatedLine,r=e.generatedLine,o=t.generatedColumn,s=e.generatedColumn;return r>n||r==n&&s>=o||Lr.compareByGeneratedPositionsInflated(t,e)<=0}i(ni,"generatedPositionAfter");function pt(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i(pt,"MappingList");pt.prototype.unsortedForEach=i(function(e,n){this._array.forEach(e,n)},"MappingList_forEach");pt.prototype.add=i(function(e){ni(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},"MappingList_add");pt.prototype.toArray=i(function(){return this._sorted||(this._array.sort(Lr.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");kr.MappingList=pt});var fn=x(Pr=>{var He=un(),L=xe(),ft=pn().ArraySet,ri=Nr().MappingList;function U(t){t||(t={}),this._file=L.getArg(t,"file",null),this._sourceRoot=L.getArg(t,"sourceRoot",null),this._skipValidation=L.getArg(t,"skipValidation",!1),this._sources=new ft,this._names=new ft,this._mappings=new ri,this._sourcesContents=null}i(U,"SourceMapGenerator");U.prototype._version=3;U.fromSourceMap=i(function(e){var n=e.sourceRoot,r=new U({file:e.file,sourceRoot:n});return e.eachMapping(function(o){var s={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(s.source=o.source,n!=null&&(s.source=L.relative(n,s.source)),s.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(s.name=o.name)),r.addMapping(s)}),e.sources.forEach(function(o){var s=o;n!==null&&(s=L.relative(n,o)),r._sources.has(s)||r._sources.add(s);var a=e.sourceContentFor(o);a!=null&&r.setSourceContent(o,a)}),r},"SourceMapGenerator_fromSourceMap");U.prototype.addMapping=i(function(e){var n=L.getArg(e,"generated"),r=L.getArg(e,"original",null),o=L.getArg(e,"source",null),s=L.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,o,s),o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:o,name:s})},"SourceMapGenerator_addMapping");U.prototype.setSourceContent=i(function(e,n){var r=e;this._sourceRoot!=null&&(r=L.relative(this._sourceRoot,r)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[L.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[L.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");U.prototype.applySourceMap=i(function(e,n,r){var o=n;if(n==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=e.file}var s=this._sourceRoot;s!=null&&(o=L.relative(s,o));var a=new ft,l=new ft;this._mappings.unsortedForEach(function(u){if(u.source===o&&u.originalLine!=null){var d=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});d.source!=null&&(u.source=d.source,r!=null&&(u.source=L.join(r,u.source)),s!=null&&(u.source=L.relative(s,u.source)),u.originalLine=d.line,u.originalColumn=d.column,d.name!=null&&(u.name=d.name))}var c=u.source;c!=null&&!a.has(c)&&a.add(c);var _=u.name;_!=null&&!l.has(_)&&l.add(_)},this),this._sources=a,this._names=l,e.sources.forEach(function(u){var d=e.sourceContentFor(u);d!=null&&(r!=null&&(u=L.join(r,u)),s!=null&&(u=L.relative(s,u)),this.setSourceContent(u,d))},this)},"SourceMapGenerator_applySourceMap");U.prototype._validateMapping=i(function(e,n,r,o){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!n&&!r&&!o)){if(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:o}))}},"SourceMapGenerator_validateMapping");U.prototype._serializeMappings=i(function(){for(var e=0,n=1,r=0,o=0,s=0,a=0,l="",u,d,c,_,p=this._mappings.toArray(),f=0,h=p.length;f<h;f++){if(d=p[f],u="",d.generatedLine!==n)for(e=0;d.generatedLine!==n;)u+=";",n++;else if(f>0){if(!L.compareByGeneratedPositionsInflated(d,p[f-1]))continue;u+=","}u+=He.encode(d.generatedColumn-e),e=d.generatedColumn,d.source!=null&&(_=this._sources.indexOf(d.source),u+=He.encode(_-a),a=_,u+=He.encode(d.originalLine-1-o),o=d.originalLine-1,u+=He.encode(d.originalColumn-r),r=d.originalColumn,d.name!=null&&(c=this._names.indexOf(d.name),u+=He.encode(c-s),s=c)),l+=u}return l},"SourceMapGenerator_serializeMappings");U.prototype._generateSourcesContent=i(function(e,n){return e.map(function(r){if(!this._sourcesContents)return null;n!=null&&(r=L.relative(n,r));var o=L.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},"SourceMapGenerator_generateSourcesContent");U.prototype.toJSON=i(function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},"SourceMapGenerator_toJSON");U.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Pr.SourceMapGenerator=U});var Cr=x(fe=>{fe.GREATEST_LOWER_BOUND=1;fe.LEAST_UPPER_BOUND=2;function mn(t,e,n,r,o,s){var a=Math.floor((e-t)/2)+t,l=o(n,r[a],!0);return l===0?a:l>0?e-a>1?mn(a,e,n,r,o,s):s==fe.LEAST_UPPER_BOUND?e<r.length?e:-1:a:a-t>1?mn(t,a,n,r,o,s):s==fe.LEAST_UPPER_BOUND?a:t<0?-1:t}i(mn,"recursiveSearch");fe.search=i(function(e,n,r,o){if(n.length===0)return-1;var s=mn(-1,n.length,e,n,r,o||fe.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&r(n[s],n[s-1],!0)===0;)--s;return s},"search")});var Fr=x(Ar=>{function hn(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}i(hn,"swap");function oi(t,e){return Math.round(t+Math.random()*(e-t))}i(oi,"randomIntInRange");function gn(t,e,n,r){if(n<r){var o=oi(n,r),s=n-1;hn(t,o,r);for(var a=t[r],l=n;l<r;l++)e(t[l],a)<=0&&(s+=1,hn(t,s,l));hn(t,s+1,l);var u=s+1;gn(t,e,n,u-1),gn(t,e,u+1,r)}}i(gn,"doQuickSort");Ar.quickSort=function(t,e){gn(t,e,0,t.length-1)}});var Or=x(mt=>{var w=xe(),bn=Cr(),Ie=pn().ArraySet,si=un(),Ze=Fr().quickSort;function T(t,e){var n=t;return typeof t=="string"&&(n=w.parseSourceMapInput(t)),n.sections!=null?new V(n,e):new A(n,e)}i(T,"SourceMapConsumer");T.fromSourceMap=function(t,e){return A.fromSourceMap(t,e)};T.prototype._version=3;T.prototype.__generatedMappings=null;Object.defineProperty(T.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});T.prototype.__originalMappings=null;Object.defineProperty(T.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});T.prototype._charIsMappingSeparator=i(function(e,n){var r=e.charAt(n);return r===";"||r===","},"SourceMapConsumer_charIsMappingSeparator");T.prototype._parseMappings=i(function(e,n){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");T.GENERATED_ORDER=1;T.ORIGINAL_ORDER=2;T.GREATEST_LOWER_BOUND=1;T.LEAST_UPPER_BOUND=2;T.prototype.eachMapping=i(function(e,n,r){var o=n||null,s=r||T.GENERATED_ORDER,a;switch(s){case T.GENERATED_ORDER:a=this._generatedMappings;break;case T.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(u){var d=u.source===null?null:this._sources.at(u.source);return d=w.computeSourceURL(l,d,this._sourceMapURL),{source:d,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:this._names.at(u.name)}},this).forEach(e,o)},"SourceMapConsumer_eachMapping");T.prototype.allGeneratedPositionsFor=i(function(e){var n=w.getArg(e,"line"),r={source:w.getArg(e,"source"),originalLine:n,originalColumn:w.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var o=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",w.compareByOriginalPositions,bn.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(e.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)o.push({line:w.getArg(a,"generatedLine",null),column:w.getArg(a,"generatedColumn",null),lastColumn:w.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===n&&a.originalColumn==u;)o.push({line:w.getArg(a,"generatedLine",null),column:w.getArg(a,"generatedColumn",null),lastColumn:w.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},"SourceMapConsumer_allGeneratedPositionsFor");mt.SourceMapConsumer=T;function A(t,e){var n=t;typeof t=="string"&&(n=w.parseSourceMapInput(t));var r=w.getArg(n,"version"),o=w.getArg(n,"sources"),s=w.getArg(n,"names",[]),a=w.getArg(n,"sourceRoot",null),l=w.getArg(n,"sourcesContent",null),u=w.getArg(n,"mappings"),d=w.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);a&&(a=w.normalize(a)),o=o.map(String).map(w.normalize).map(function(c){return a&&w.isAbsolute(a)&&w.isAbsolute(c)?w.relative(a,c):c}),this._names=Ie.fromArray(s.map(String),!0),this._sources=Ie.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(c){return w.computeSourceURL(a,c,e)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=u,this._sourceMapURL=e,this.file=d}i(A,"BasicSourceMapConsumer");A.prototype=Object.create(T.prototype);A.prototype.consumer=T;A.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=w.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var n;for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==t)return n;return-1};A.fromSourceMap=i(function(e,n){var r=Object.create(A.prototype),o=r._names=Ie.fromArray(e._names.toArray(),!0),s=r._sources=Ie.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=n,r._absoluteSources=r._sources.toArray().map(function(f){return w.computeSourceURL(r.sourceRoot,f,n)});for(var a=e._mappings.toArray().slice(),l=r.__generatedMappings=[],u=r.__originalMappings=[],d=0,c=a.length;d<c;d++){var _=a[d],p=new Rr;p.generatedLine=_.generatedLine,p.generatedColumn=_.generatedColumn,_.source&&(p.source=s.indexOf(_.source),p.originalLine=_.originalLine,p.originalColumn=_.originalColumn,_.name&&(p.name=o.indexOf(_.name)),u.push(p)),l.push(p)}return Ze(r.__originalMappings,w.compareByOriginalPositions),r},"SourceMapConsumer_fromSourceMap");A.prototype._version=3;Object.defineProperty(A.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function Rr(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}i(Rr,"Mapping");A.prototype._parseMappings=i(function(e,n){for(var r=1,o=0,s=0,a=0,l=0,u=0,d=e.length,c=0,_={},p={},f=[],h=[],m,b,y,g,E;c<d;)if(e.charAt(c)===";")r++,c++,o=0;else if(e.charAt(c)===",")c++;else{for(m=new Rr,m.generatedLine=r,g=c;g<d&&!this._charIsMappingSeparator(e,g);g++);if(b=e.slice(c,g),y=_[b],y)c+=b.length;else{for(y=[];c<g;)si.decode(e,c,p),E=p.value,c=p.rest,y.push(E);if(y.length===2)throw new Error("Found a source, but no line and column");if(y.length===3)throw new Error("Found a source and line, but no column");_[b]=y}m.generatedColumn=o+y[0],o=m.generatedColumn,y.length>1&&(m.source=l+y[1],l+=y[1],m.originalLine=s+y[2],s=m.originalLine,m.originalLine+=1,m.originalColumn=a+y[3],a=m.originalColumn,y.length>4&&(m.name=u+y[4],u+=y[4])),h.push(m),typeof m.originalLine=="number"&&f.push(m)}Ze(h,w.compareByGeneratedPositionsDeflated),this.__generatedMappings=h,Ze(f,w.compareByOriginalPositions),this.__originalMappings=f},"SourceMapConsumer_parseMappings");A.prototype._findMapping=i(function(e,n,r,o,s,a){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return bn.search(e,n,s,a)},"SourceMapConsumer_findMapping");A.prototype.computeColumnSpans=i(function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(n.generatedLine===r.generatedLine){n.lastGeneratedColumn=r.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");A.prototype.originalPositionFor=i(function(e){var n={generatedLine:w.getArg(e,"line"),generatedColumn:w.getArg(e,"column")},r=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",w.compareByGeneratedPositionsDeflated,w.getArg(e,"bias",T.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===n.generatedLine){var s=w.getArg(o,"source",null);s!==null&&(s=this._sources.at(s),s=w.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=w.getArg(o,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:w.getArg(o,"originalLine",null),column:w.getArg(o,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");A.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");A.prototype.sourceContentFor=i(function(e,n){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var o=e;this.sourceRoot!=null&&(o=w.relative(this.sourceRoot,o));var s;if(this.sourceRoot!=null&&(s=w.urlParse(this.sourceRoot))){var a=o.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(n)return null;throw new Error('"'+o+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");A.prototype.generatedPositionFor=i(function(e){var n=w.getArg(e,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};var r={source:n,originalLine:w.getArg(e,"line"),originalColumn:w.getArg(e,"column")},o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",w.compareByOriginalPositions,w.getArg(e,"bias",T.GREATEST_LOWER_BOUND));if(o>=0){var s=this._originalMappings[o];if(s.source===r.source)return{line:w.getArg(s,"generatedLine",null),column:w.getArg(s,"generatedColumn",null),lastColumn:w.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");mt.BasicSourceMapConsumer=A;function V(t,e){var n=t;typeof t=="string"&&(n=w.parseSourceMapInput(t));var r=w.getArg(n,"version"),o=w.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new Ie,this._names=new Ie;var s={line:-1,column:0};this._sections=o.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=w.getArg(a,"offset"),u=w.getArg(l,"line"),d=w.getArg(l,"column");if(u<s.line||u===s.line&&d<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:u+1,generatedColumn:d+1},consumer:new T(w.getArg(a,"map"),e)}})}i(V,"IndexedSourceMapConsumer");V.prototype=Object.create(T.prototype);V.prototype.constructor=T;V.prototype._version=3;Object.defineProperty(V.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t}});V.prototype.originalPositionFor=i(function(e){var n={generatedLine:w.getArg(e,"line"),generatedColumn:w.getArg(e,"column")},r=bn.search(n,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),o=this._sections[r];return o?o.consumer.originalPositionFor({line:n.generatedLine-(o.generatedOffset.generatedLine-1),column:n.generatedColumn-(o.generatedOffset.generatedLine===n.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");V.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");V.prototype.sourceContentFor=i(function(e,n){for(var r=0;r<this._sections.length;r++){var o=this._sections[r],s=o.consumer.sourceContentFor(e,!0);if(s)return s}if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");V.prototype.generatedPositionFor=i(function(e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n];if(r.consumer._findSourceIndex(w.getArg(e,"source"))!==-1){var o=r.consumer.generatedPositionFor(e);if(o){var s={line:o.line+(r.generatedOffset.generatedLine-1),column:o.column+(r.generatedOffset.generatedLine===o.line?r.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");V.prototype._parseMappings=i(function(e,n){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var o=this._sections[r],s=o.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],u=o.consumer._sources.at(l.source);u=w.computeSourceURL(o.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var d=null;l.name&&(d=o.consumer._names.at(l.name),this._names.add(d),d=this._names.indexOf(d));var c={source:u,generatedLine:l.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(o.generatedOffset.generatedLine===l.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:d};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}Ze(this.__generatedMappings,w.compareByGeneratedPositionsDeflated),Ze(this.__originalMappings,w.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");mt.IndexedSourceMapConsumer=V});var Dr=x(Br=>{var ii=fn().SourceMapGenerator,ht=xe(),ai=/(\r?\n)/,li=10,Le="$$$isSourceNode$$$";function B(t,e,n,r,o){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=n??null,this.name=o??null,this[Le]=!0,r!=null&&this.add(r)}i(B,"SourceNode");B.fromStringWithSourceMap=i(function(e,n,r){var o=new B,s=e.split(ai),a=0,l=i(function(){var p=h(),f=h()||"";return p+f;function h(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),u=1,d=0,c=null;return n.eachMapping(function(p){if(c!==null)if(u<p.generatedLine)_(c,l()),u++,d=0;else{var f=s[a]||"",h=f.substr(0,p.generatedColumn-d);s[a]=f.substr(p.generatedColumn-d),d=p.generatedColumn,_(c,h),c=p;return}for(;u<p.generatedLine;)o.add(l()),u++;if(d<p.generatedColumn){var f=s[a]||"";o.add(f.substr(0,p.generatedColumn)),s[a]=f.substr(p.generatedColumn),d=p.generatedColumn}c=p},this),a<s.length&&(c&&_(c,l()),o.add(s.splice(a).join(""))),n.sources.forEach(function(p){var f=n.sourceContentFor(p);f!=null&&(r!=null&&(p=ht.join(r,p)),o.setSourceContent(p,f))}),o;function _(p,f){if(p===null||p.source===void 0)o.add(f);else{var h=r?ht.join(r,p.source):p.source;o.add(new B(p.originalLine,p.originalColumn,h,f,p.name))}}i(_,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");B.prototype.add=i(function(e){if(Array.isArray(e))e.forEach(function(n){this.add(n)},this);else if(e[Le]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_add");B.prototype.prepend=i(function(e){if(Array.isArray(e))for(var n=e.length-1;n>=0;n--)this.prepend(e[n]);else if(e[Le]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_prepend");B.prototype.walk=i(function(e){for(var n,r=0,o=this.children.length;r<o;r++)n=this.children[r],n[Le]?n.walk(e):n!==""&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");B.prototype.join=i(function(e){var n,r,o=this.children.length;if(o>0){for(n=[],r=0;r<o-1;r++)n.push(this.children[r]),n.push(e);n.push(this.children[r]),this.children=n}return this},"SourceNode_join");B.prototype.replaceRight=i(function(e,n){var r=this.children[this.children.length-1];return r[Le]?r.replaceRight(e,n):typeof r=="string"?this.children[this.children.length-1]=r.replace(e,n):this.children.push("".replace(e,n)),this},"SourceNode_replaceRight");B.prototype.setSourceContent=i(function(e,n){this.sourceContents[ht.toSetString(e)]=n},"SourceNode_setSourceContent");B.prototype.walkSourceContents=i(function(e){for(var n=0,r=this.children.length;n<r;n++)this.children[n][Le]&&this.children[n].walkSourceContents(e);for(var o=Object.keys(this.sourceContents),n=0,r=o.length;n<r;n++)e(ht.fromSetString(o[n]),this.sourceContents[o[n]])},"SourceNode_walkSourceContents");B.prototype.toString=i(function(){var e="";return this.walk(function(n){e+=n}),e},"SourceNode_toString");B.prototype.toStringWithSourceMap=i(function(e){var n={code:"",line:1,column:0},r=new ii(e),o=!1,s=null,a=null,l=null,u=null;return this.walk(function(d,c){n.code+=d,c.source!==null&&c.line!==null&&c.column!==null?((s!==c.source||a!==c.line||l!==c.column||u!==c.name)&&r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name}),s=c.source,a=c.line,l=c.column,u=c.name,o=!0):o&&(r.addMapping({generated:{line:n.line,column:n.column}}),s=null,o=!1);for(var _=0,p=d.length;_<p;_++)d.charCodeAt(_)===li?(n.line++,n.column=0,_+1===p?(s=null,o=!1):o&&r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name})):n.column++}),this.walkSourceContents(function(d,c){r.setSourceContent(d,c)}),{code:n.code,map:r}},"SourceNode_toStringWithSourceMap");Br.SourceNode=B});var Wr=x(gt=>{gt.SourceMapGenerator=fn().SourceMapGenerator;gt.SourceMapConsumer=Or().SourceMapConsumer;gt.SourceNode=Dr().SourceNode});var zr=x((Fl,Ur)=>{var ui=Object.prototype.toString,yn=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function ci(t){return ui.call(t).slice(8,-1)==="ArrayBuffer"}i(ci,"isArrayBuffer");function di(t,e,n){e>>>=0;var r=t.byteLength-e;if(r<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=r;else if(n>>>=0,n>r)throw new RangeError("'length' is out of bounds");return yn?Buffer.from(t.slice(e,e+n)):new Buffer(new Uint8Array(t.slice(e,e+n)))}i(di,"fromArrayBuffer");function _i(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return yn?Buffer.from(t,e):new Buffer(t,e)}i(_i,"fromString");function pi(t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return ci(t)?di(t,e,n):typeof t=="string"?_i(t,e):yn?Buffer.from(t):new Buffer(t)}i(pi,"bufferFrom");Ur.exports=pi});var Kr=x((he,Sn)=>{var fi=Wr().SourceMapConsumer,wn=require("path"),$;try{$=require("fs"),(!$.existsSync||!$.readFileSync)&&($=null)}catch{}var mi=zr();function qr(t,e){return t.require(e)}i(qr,"dynamicRequire");var jr=!1,Vr=!1,En=!1,$e="auto",me={},Ge={},hi=/^data:application\/json[^,]+base64,/,ie=[],ae=[];function Tn(){return $e==="browser"?!0:$e==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}i(Tn,"isInBrowser");function gi(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}i(gi,"hasGlobalProcessEventEmitter");function bi(){return typeof process=="object"&&process!==null?process.version:""}i(bi,"globalProcessVersion");function yi(){if(typeof process=="object"&&process!==null)return process.stderr}i(yi,"globalProcessStderr");function wi(t){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(t)}i(wi,"globalProcessExit");function bt(t){return function(e){for(var n=0;n<t.length;n++){var r=t[n](e);if(r)return r}return null}}i(bt,"handlerExec");var Mn=bt(ie);ie.push(function(t){if(t=t.trim(),/^file:/.test(t)&&(t=t.replace(/file:\/\/\/(\w:)?/,function(r,o){return o?"":"/"})),t in me)return me[t];var e="";try{if($)$.existsSync(t)&&(e=$.readFileSync(t,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null),n.readyState===4&&n.status===200&&(e=n.responseText)}}catch{}return me[t]=e});function vn(t,e){if(!t)return e;var n=wn.dirname(t),r=/^\w+:\/\/[^\/]*/.exec(n),o=r?r[0]:"",s=n.slice(o.length);return o&&/^\/\w\:/.test(s)?(o+="/",o+wn.resolve(n.slice(o.length),e).replace(/\\/g,"/")):o+wn.resolve(n.slice(o.length),e)}i(vn,"supportRelativeURL");function Ei(t){var e;if(Tn())try{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null),e=n.readyState===4?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch{}e=Mn(t);for(var o=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=o.exec(e);)s=a;return s?s[1]:null}i(Ei,"retrieveSourceMapURL");var xn=bt(ae);ae.push(function(t){var e=Ei(t);if(!e)return null;var n;if(hi.test(e)){var r=e.slice(e.indexOf(",")+1);n=mi(r,"base64").toString(),e=t}else e=vn(t,e),n=Mn(e);return n?{url:e,map:n}:null});function In(t){var e=Ge[t.source];if(!e){var n=xn(t.source);n?(e=Ge[t.source]={url:n.url,map:new fi(n.map)},e.map.sourcesContent&&e.map.sources.forEach(function(o,s){var a=e.map.sourcesContent[s];if(a){var l=vn(e.url,o);me[l]=a}})):e=Ge[t.source]={url:null,map:null}}if(e&&e.map&&typeof e.map.originalPositionFor=="function"){var r=e.map.originalPositionFor(t);if(r.source!==null)return r.source=vn(e.url,r.source),r}return t}i(In,"mapSourcePosition");function Zr(t){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(e){var n=In({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(t),e?"eval at "+e[1]+" ("+Zr(e[2])+")":t}i(Zr,"mapEvalOrigin");function vi(){var t,e="";if(this.isNative())e="native";else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),t?e+=t:e+="<anonymous>";var n=this.getLineNumber();if(n!=null){e+=":"+n;var r=this.getColumnNumber();r&&(e+=":"+r)}}var o="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),u=!(this.isToplevel()||l);if(u){var d=this.getTypeName();d==="[object Object]"&&(d="null");var c=this.getMethodName();s?(d&&s.indexOf(d)!=0&&(o+=d+"."),o+=s,c&&s.indexOf("."+c)!=s.length-c.length-1&&(o+=" [as "+c+"]")):o+=d+"."+(c||"<anonymous>")}else l?o+="new "+(s||"<anonymous>"):s?o+=s:(o+=e,a=!1);return a&&(o+=" ("+e+")"),o}i(vi,"CallSiteToString");function Hr(t){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(n){e[n]=/^(?:is|get)/.test(n)?function(){return t[n].call(t)}:t[n]}),e.toString=vi,e}i(Hr,"cloneCallSite");function $r(t,e){if(e===void 0&&(e={nextPosition:null,curPosition:null}),t.isNative())return e.curPosition=null,t;var n=t.getFileName()||t.getScriptNameOrSourceURL();if(n){var r=t.getLineNumber(),o=t.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(bi())?0:62;r===1&&o>a&&!Tn()&&!t.isEval()&&(o-=a);var l=In({source:n,line:r,column:o});e.curPosition=l,t=Hr(t);var u=t.getFunctionName;return t.getFunctionName=function(){return e.nextPosition==null?u():e.nextPosition.name||u()},t.getFileName=function(){return l.source},t.getLineNumber=function(){return l.line},t.getColumnNumber=function(){return l.column+1},t.getScriptNameOrSourceURL=function(){return l.source},t}var d=t.isEval()&&t.getEvalOrigin();return d&&(d=Zr(d),t=Hr(t),t.getEvalOrigin=function(){return d}),t}i($r,"wrapCallSite");function Si(t,e){En&&(me={},Ge={});for(var n=t.name||"Error",r=t.message||"",o=n+": "+r,s={nextPosition:null,curPosition:null},a=[],l=e.length-1;l>=0;l--)a.push(`
    at `+$r(e[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,o+a.reverse().join("")}i(Si,"prepareStackTrace");function Gr(t){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(t.stack);if(e){var n=e[1],r=+e[2],o=+e[3],s=me[n];if(!s&&$&&$.existsSync(n))try{s=$.readFileSync(n,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[r-1];if(a)return n+":"+r+`
`+a+`
`+new Array(o).join(" ")+"^"}}return null}i(Gr,"getErrorSource");function Ti(t){var e=Gr(t),n=yi();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),e&&(console.error(),console.error(e)),console.error(t.stack),wi(1)}i(Ti,"printErrorAndExit");function Mi(){var t=process.emit;process.emit=function(e){if(e==="uncaughtException"){var n=arguments[1]&&arguments[1].stack,r=this.listeners(e).length>0;if(n&&!r)return Ti(arguments[1])}return t.apply(this,arguments)}}i(Mi,"shimEmitUncaughtException");var xi=ie.slice(0),Ii=ae.slice(0);he.wrapCallSite=$r;he.getErrorSource=Gr;he.mapSourcePosition=In;he.retrieveSourceMap=xn;he.install=function(t){if(t=t||{},t.environment&&($e=t.environment,["node","browser","auto"].indexOf($e)===-1))throw new Error("environment "+$e+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(ie.length=0),ie.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(ae.length=0),ae.unshift(t.retrieveSourceMap)),t.hookRequire&&!Tn()){var e=qr(Sn,"module"),n=e.prototype._compile;n.__sourceMapSupport||(e.prototype._compile=function(s,a){return me[a]=s,Ge[a]=void 0,n.call(this,s,a)},e.prototype._compile.__sourceMapSupport=!0)}if(En||(En="emptyCacheBetweenOperations"in t?t.emptyCacheBetweenOperations:!1),jr||(jr=!0,Error.prepareStackTrace=Si),!Vr){var r="handleUncaughtExceptions"in t?t.handleUncaughtExceptions:!0;try{var o=qr(Sn,"worker_threads");o.isMainThread===!1&&(r=!1)}catch{}r&&gi()&&(Vr=!0,Mi())}};he.resetRetrieveHandlers=function(){ie.length=0,ae.length=0,ie=xi.slice(0),ae=Ii.slice(0),xn=bt(ae),Mn=bt(ie)}});var Ln=x(()=>{Kr().install()});var Jr=x(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.bytePairEncode=K.BinaryMap=K.binaryMapKey=void 0;var Li=i((t,e,n)=>{let r=n-e,o=16777215>>>Math.max(0,(3-r)*8),s=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&o,a=16777215>>>Math.min(31,Math.max(0,(6-r)*8)),l=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&a;return s+16777216*l},"binaryMapKey");K.binaryMapKey=Li;var kn=class t{static{i(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(e,n=0,r=e.length){let o=r<6+n,s=(0,K.binaryMapKey)(e,n,r);return o?this.final.get(s):this.nested.get(s)?.get(e,6+n,r)}set(e,n){let r=(0,K.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(r,n);return}let s=this.nested.get(r);if(s instanceof t)s.set(e.subarray(6),n);else{let a=new t;a.set(e.subarray(6),n),this.nested.set(r,a)}}};K.BinaryMap=kn;var G=new Int32Array(128),R=new Int32Array(128);function ki(t,e,n){if(n===1)return[e.get(t)];let r=2147483647,o=-1;for(;G.length<n*2;)R=new Int32Array(R.length*2),G=new Int32Array(G.length*2);for(let u=0;u<n-1;u++){let d=e.get(t,u,u+2)??2147483647;d<r&&(r=d,o=u),R[u]=u,G[u]=d}R[n-1]=n-1,G[n-1]=2147483647,R[n]=n,G[n]=2147483647;let s=n+1;function a(u,d=0){if(u+d+2<s){let c=e.get(t,R[u],R[u+d+2]);if(c!==void 0)return c}return 2147483647}for(i(a,"getRank");r!==2147483647;){G[R[o]]=a(o,1),o>0&&(G[R[o-1]]=a(o-1,1));for(let u=o+1;u<s-1;u++)R[u]=R[u+1];s--,o=-1,r=2147483647;for(let u=0;u<s-1;u++){let d=G[R[u]];G[R[u]]<r&&(r=d,o=u)}}let l=[];for(let u=0;u<s-1;u++)l.push(e.get(t,R[u],R[u+1]));return l}i(ki,"bytePairEncode");K.bytePairEncode=ki});var Qr=x(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.makeTextEncoder=void 0;var Nn=class{static{i(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let n=this.encoder.encode(e);return this.length=n.length,n}},Pn=class{static{i(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}},Ni=i(()=>typeof Buffer<"u"?new Pn:new Nn,"makeTextEncoder");yt.makeTextEncoder=Ni});var Xr=x(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.LRUCache=void 0;var Cn=class{static{i(this,"LRUCache")}constructor(e){this.size=e,this.nodes=new Map}get(e){let n=this.nodes.get(e);if(n)return this.moveToHead(n),n.value}set(e,n){let r=this.nodes.get(e);if(r)r.value=n,this.moveToHead(r);else{let o=new An(e,n);this.nodes.set(e,o),this.addNode(o),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};wt.LRUCache=Cn;var An=class{static{i(this,"Node")}constructor(e,n){this.key=e,this.value=n}}});var Rn=x(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.TikTokenizer=void 0;var Pi=require("fs"),Ci=require("util"),Et=Jr(),Ai=Qr(),Fi=Xr();function Ri(t){let e=new Map;try{let r=Pi.readFileSync(t,"utf-8");return n(r),e}catch(r){throw new Error(`Failed to load from BPE encoder file stream: ${r}`)}function n(r){for(let o of r.split(/[\r\n]+/)){if(o.trim()==="")continue;let s=o.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))e.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}i(n,"processBpeRanks")}i(Ri,"loadTikTokenBpe");function Oi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(Oi,"escapeRegExp");var Fn=class{static{i(this,"TikTokenizer")}constructor(e,n,r,o=8192){this.textEncoder=(0,Ai.makeTextEncoder)(),this.textDecoder=new Ci.TextDecoder("utf-8"),this.cache=new Fi.LRUCache(o);let s=Ri(e);this.init(s,n,r)}init(e,n,r){this.encoder=new Et.BinaryMap;for(let[o,s]of e)this.encoder.set(o,s);this.regex=new RegExp(r,"gu"),this.specialTokensRegex=new RegExp(Array.from(n.keys()).map(o=>Oi(o)).join("|")),this.specialTokensEncoder=n,this.decoder=new Map;for(let[o,s]of e)this.decoder.set(s,o);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[o,s]of n)this.specialTokensDecoder.set(s,o)}findNextSpecialToken(e,n,r){let o=n,s=null;if(r&&this.specialTokensRegex)for(;s=e.slice(o).match(this.specialTokensRegex),!(!s||r&&r.includes(s[0]));)o+=s.index+1;let a=s?o+s.index:e.length;return[s,a]}encode(e,n){let r=[],o=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(e,o,n),a>o&&this.encodeByIndex(e,r,o,a),s){if(o=o+this.encodeSpecialToken(r,s),o>=e.length)break}else break}return r}encodeSpecialToken(e,n){let r=this.specialTokensEncoder?.get(n[0]);return e.push(r),n.index+n[0].length}encodeByIndex(e,n,r,o){let s,a=e.substring(r,o);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let u of l)n.push(u);else{let u=this.textEncoder.encode(s[0]),d=this.encoder.get(u,0,this.textEncoder.length);if(d!==void 0)n.push(d),this.cache.set(s[0],[d]);else{let c=(0,Et.bytePairEncode)(u,this.encoder,this.textEncoder.length);for(let _ of c)n.push(_);this.cache.set(s[0],c)}}}}encodeTrimSuffixByIndex(e,n,r,o,s,a,l){let u,d=e.substring(r,o);for(this.regex.lastIndex=0;u=this.regex.exec(d);){let c=u[0],_=this.cache.get(c);if(_)if(a+_.length<=s)a+=_.length,l+=c.length,n.push(..._);else{let p=s-a;a+=p,l+=c.length,n.push(..._.slice(0,p));break}else{let p=this.textEncoder.encode(c),f=this.encoder.get(p,0,p.length);if(f!==void 0)if(this.cache.set(c,[f]),a+1<=s)a++,l+=c.length,n.push(f);else break;else{let h=(0,Et.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(c,h),a+h.length<=s){a+=h.length,l+=c.length;for(let m of h)n.push(m)}else{let m=s-a;a+=m,l+=c.length;for(let b=0;b<m;b++)n.push(h[b]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(e,n,r){let o=[],s=0,a=0,l=0;for(;;){let d,c;if([d,c]=this.findNextSpecialToken(e,s,r),c>s){let{tokenCount:_,encodeLength:p}=this.encodeTrimSuffixByIndex(e,o,s,c,n,a,l);if(a=_,l=p,a>=n)break}if(d!==null){if(a++,a<=n&&(s=s+this.encodeSpecialToken(o,d),l+=d[0].length,s>=e.length)||a>=n)break}else break}let u=l===e.length?e:e.slice(0,l);return{tokenIds:o,text:u}}encodeTrimPrefix(e,n,r){let o=[],s=0,a=0,l=0,u=new Map;for(u.set(a,l);;){let p,f;if([p,f]=this.findNextSpecialToken(e,s,r),f>s){let h,m=e.substring(s,f);for(this.regex.lastIndex=0;h=this.regex.exec(m);){let b=h[0],y=this.cache.get(b);if(y)a+=y.length,l+=b.length,o.push(...y),u.set(a,l);else{let g=this.textEncoder.encode(b),E=this.encoder.get(g);if(E!==void 0)this.cache.set(b,[E]),a++,l+=b.length,o.push(E),u.set(a,l);else{let v=(0,Et.bytePairEncode)(g,this.encoder,this.textEncoder.length);this.cache.set(b,v),a+=v.length,l+=b.length;for(let P of v)o.push(P);u.set(a,l)}}}}if(p!==null){if(s=s+this.encodeSpecialToken(o,p),a++,l+=p[0].length,u.set(a,l),s>=e.length)break}else break}if(a<=n)return{tokenIds:o,text:e};let d=a-n,c=0,_=0;for(let[p,f]of u)if(p>=d){c=p,_=f;break}if(c>n){let p=this.encode(e,r),f=p.slice(p.length-n);return{tokenIds:f,text:this.decode(f)}}return{tokenIds:o.slice(c),text:e.slice(_)}}decode(e){let n=[];for(let r of e){let o=[],s=this.decoder?.get(r);if(s!==void 0)o=Array.from(s);else{let a=this.specialTokensDecoder?.get(r);if(a!==void 0){let l=this.textEncoder.encode(a);o=Array.from(l.subarray(0,this.textEncoder.length))}}n.push(...o)}return this.textDecoder.decode(new Uint8Array(n))}};vt.TikTokenizer=Fn});var lo=x(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.createTokenizer=k.createByEncoderName=k.createByModelName=k.getRegexByModel=k.getRegexByEncoder=k.getSpecialTokensByModel=k.getSpecialTokensByEncoder=k.MODEL_TO_ENCODING=void 0;var Tt=require("fs"),On=require("path"),Bi=Rn(),Di=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);k.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var St="<|endoftext|>",Yr="<|fim_prefix|>",eo="<|fim_middle|>",to="<|fim_suffix|>",no="<|endofprompt|>",Ke="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",ro="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Wi=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],oo=Wi.join("|");function Bn(t){let e="";if(k.MODEL_TO_ENCODING.has(t))e=k.MODEL_TO_ENCODING.get(t);else for(let[n,r]of Di)if(t.startsWith(n)){e=r;break}return e}i(Bn,"getEncoderFromModelName");async function Ui(t,e){let n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let r=await n.text();Tt.writeFileSync(e,r)}i(Ui,"fetchAndSaveFile");function Dn(t){let e=new Map([[St,50256]]);switch(t){case"o200k_base":e=new Map([[St,199999],[no,200018]]);break;case"cl100k_base":e=new Map([[St,100257],[Yr,100258],[eo,100259],[to,100260],[no,100276]]);break;case"p50k_edit":e=new Map([[St,50256],[Yr,50281],[eo,50282],[to,50283]]);break;default:break}return e}i(Dn,"getSpecialTokensByEncoder");k.getSpecialTokensByEncoder=Dn;function zi(t){let e=Bn(t);return Dn(e)}i(zi,"getSpecialTokensByModel");k.getSpecialTokensByModel=zi;function so(t){switch(t){case"o200k_base":return oo;case"cl100k_base":return ro;default:break}return Ke}i(so,"getRegexByEncoder");k.getRegexByEncoder=so;function qi(t){let e=Bn(t);return so(e)}i(qi,"getRegexByModel");k.getRegexByModel=qi;async function ji(t,e=null){return io(Bn(t),e)}i(ji,"createByModelName");k.createByModelName=ji;async function io(t,e=null){let n,r,o=Dn(t);switch(t){case"o200k_base":n=oo,r="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":n=ro,r="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":n=Ke,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":n=Ke,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":n=Ke,r="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":n=Ke,r="https://pythia.blob.core.windows.net/public/encoding/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(o=new Map([...o,...e]));let s=On.basename(r),a=On.resolve(__dirname,"..","model");Tt.existsSync(a)||Tt.mkdirSync(a,{recursive:!0});let l=On.resolve(a,s);return Tt.existsSync(l)||(console.log(`Downloading file from ${r}`),await Ui(r,l),console.log(`Saved file to ${l}`)),ao(l,o,n)}i(io,"createByEncoderName");k.createByEncoderName=io;function ao(t,e,n,r=8192){return new Bi.TikTokenizer(t,e,n,r)}i(ao,"createTokenizer");k.createTokenizer=ao});var uo=x(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.createTokenizer=N.createByEncoderName=N.createByModelName=N.getSpecialTokensByModel=N.getSpecialTokensByEncoder=N.getRegexByModel=N.getRegexByEncoder=N.MODEL_TO_ENCODING=N.TikTokenizer=void 0;var Vi=Rn();Object.defineProperty(N,"TikTokenizer",{enumerable:!0,get:function(){return Vi.TikTokenizer}});var le=lo();Object.defineProperty(N,"MODEL_TO_ENCODING",{enumerable:!0,get:function(){return le.MODEL_TO_ENCODING}});Object.defineProperty(N,"getRegexByEncoder",{enumerable:!0,get:function(){return le.getRegexByEncoder}});Object.defineProperty(N,"getRegexByModel",{enumerable:!0,get:function(){return le.getRegexByModel}});Object.defineProperty(N,"getSpecialTokensByEncoder",{enumerable:!0,get:function(){return le.getSpecialTokensByEncoder}});Object.defineProperty(N,"getSpecialTokensByModel",{enumerable:!0,get:function(){return le.getSpecialTokensByModel}});Object.defineProperty(N,"createByModelName",{enumerable:!0,get:function(){return le.createByModelName}});Object.defineProperty(N,"createByEncoderName",{enumerable:!0,get:function(){return le.createByEncoderName}});Object.defineProperty(N,"createTokenizer",{enumerable:!0,get:function(){return le.createTokenizer}})});function H(t="cl100k_base"){let e=co.get(t);return e!==void 0||(t==="mock"?e=new Wn:e=new Mt(t),co.set(t,e)),e}var ke,_o,xt,co,Mt,Wn,po=S(()=>{"use strict";ke=mr(uo()),_o=require("path"),xt=(r=>(r.cl100k="cl100k_base",r.o200k="o200k_base",r.mock="mock",r))(xt||{}),co=new Map;i(H,"getTokenizer");Mt=class{static{i(this,"TTokenizer")}constructor(e){try{this._tokenizer=(0,ke.createTokenizer)((0,_o.join)(__dirname,`./resources/${e}.tiktoken`),(0,ke.getSpecialTokensByEncoder)(e),(0,ke.getRegexByEncoder)(e),32768)}catch(n){if(n instanceof Error){let r=new Error("Could not load tokenizer");throw r.code="CopilotPromptLoadFailure",r.cause=n,r}throw n}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(r=>this.detokenize([r]))}takeLastTokens(e,n){if(n<=0)return"";let r=4,o=1,s=Math.min(e.length,n*r),a=e.slice(-s),l=this.tokenize(a);for(;l.length<n+2&&s<e.length;)s=Math.min(e.length,s+n*o),a=e.slice(-s),l=this.tokenize(a);return l.length<n?e:(l=l.slice(-n),this.detokenize(l))}takeFirstTokens(e,n){if(n<=0)return{text:"",tokens:[]};let r=4,o=1,s=Math.min(e.length,n*r),a=e.slice(0,s),l=this.tokenize(a);for(;l.length<n+2&&s<e.length;)s=Math.min(e.length,s+n*o),a=e.slice(0,s),l=this.tokenize(a);return l.length<n?{text:e,tokens:l}:(l=l.slice(0,n),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(e,n){let r=this.takeLastTokens(e,n);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let o=r.indexOf(`
`);return r.substring(o+1)}},Wn=class{constructor(){this.hash=e=>{let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);n=(n<<5)-n+o,n&=n&65535}return n}}static{i(this,"MockTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(n=>n.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,n){return this.tokenizeStrings(e).slice(-n).join("")}takeFirstTokens(e,n){let r=this.tokenizeStrings(e).slice(0,n);return{text:r.join(""),tokens:r.map(this.hash)}}takeLastLinesTokens(e,n){let r=this.takeLastTokens(e,n);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let o=r.indexOf(`
`);return r.substring(o+1)}}});var Ne=S(()=>{"use strict";po()});function It(t,e,n){return{type:"virtual",indentation:t,subs:e,label:n}}function Un(t,e,n,r,o){if(n==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:t,lineNumber:e,sourceLine:n,subs:r,label:o}}function Lt(t){return{type:"blank",lineNumber:t,subs:[]}}function Je(t){return{type:"top",indentation:-1,subs:t??[]}}function M(t){return t.type==="blank"}function Z(t){return t.type==="line"}function D(t){return t.type==="virtual"}function ue(t){return t.type==="top"}function Hi(t,e){function n(r){if(!D(r)&&!ue(r)&&r.lineNumber===e)return r.subs=[],!0;for(let o=0;o<r.subs.length;o++)if(n(r.subs[o]))return r.subs=r.subs.slice(0,o+1),!0;return!1}i(n,"cut"),n(t)}function Zi(t){return JSON.parse(JSON.stringify(t))}var ge=S(()=>{"use strict";i(It,"virtualNode");i(Un,"lineNode");i(Lt,"blankNode");i(Je,"topNode");i(M,"isBlank");i(Z,"isLine");i(D,"isVirtual");i(ue,"isTop");i(Hi,"cutTreeAfterLine");i(Zi,"duplicateTree")});function fo(t){return I(t,e=>{e.label=void 0},"bottomUp"),t}function zn(t,e){return I(t,n=>{n.label=n.label?e(n.label)?void 0:n.label:void 0},"bottomUp"),t}function J(t,e){switch(t.type){case"line":case"virtual":let n=t.subs.map(r=>J(r,e));return{...t,subs:n,label:t.label?e(t.label):void 0};case"blank":return{...t,label:t.label?e(t.label):void 0};case"top":return{...t,subs:t.subs.map(r=>J(r,e)),label:t.label?e(t.label):void 0}}}function $i(t){let e=0;function n(r){!D(r)&&!ue(r)&&(r.lineNumber=e,e++)}i(n,"visitor"),I(t,n,"topDown")}function I(t,e,n){function r(o){n==="topDown"&&e(o),o.subs.forEach(s=>{r(s)}),n==="bottomUp"&&e(o)}i(r,"_visit"),r(t)}function Gi(t,e,n){function r(o){if(n==="topDown"&&!e(o))return!1;let s=!0;return o.subs.forEach(a=>{s=s&&r(a)}),n==="bottomUp"&&(s=s&&e(o)),s}i(r,"_visit"),r(t)}function Qe(t,e,n,r){let o=e;function s(a){o=n(a,o)}return i(s,"visitor"),I(t,s,r),o}function Xe(t,e,n){let r=i(s=>{if(n!==void 0&&n(s))return s;{let a=s.subs.map(r).filter(l=>l!==void 0);return s.subs=a,e(s)}},"rebuild"),o=r(t);return o!==void 0?o:Je()}var Pe=S(()=>{"use strict";ge();i(fo,"clearLabels");i(zn,"clearLabelsIf");i(J,"mapLabels");i($i,"resetLineNumbers");i(I,"visitTree");i(Gi,"visitTreeConditionally");i(Qe,"foldTree");i(Xe,"rebuildTree")});function mo(t){let e=t.split(`
`),n=e.map(d=>d.match(/^\s*/)[0].length),r=e.map(d=>d.trimLeft());function o(d){let[c,_]=s(d+1,n[d]);return[Un(n[d],d,r[d],c),_]}i(o,"parseNode");function s(d,c){let _,p=[],f=d,h;for(;f<r.length&&(r[f]===""||n[f]>c);)if(r[f]==="")h===void 0&&(h=f),f+=1;else{if(h!==void 0){for(let m=h;m<f;m++)p.push(Lt(m));h=void 0}[_,f]=o(f),p.push(_)}return h!==void 0&&(f=h),[p,f]}i(s,"parseSubs");let[a,l]=s(0,-1),u=l;for(;u<r.length&&r[u]==="";)a.push(Lt(u)),u+=1;if(u<r.length)throw new Error(`Parsing did not go to end of file. Ended at ${u} out of ${r.length}`);return Je(a)}function Ce(t,e){function n(r){if(Z(r)){let o=e.find(s=>s.matches(r.sourceLine));o&&(r.label=o.label)}}i(n,"visitor"),I(t,n,"bottomUp")}function Ye(t){function e(n){if(D(n)&&n.label===void 0){let r=n.subs.filter(o=>!M(o));r.length===1&&(n.label=r[0].label)}}i(e,"visitor"),I(t,e,"bottomUp")}function Ae(t){return Object.keys(t).map(e=>{let n;return t[e].test?n=i(r=>t[e].test(r),"matches"):n=t[e],{matches:n,label:e}})}function kt(t){let n=Xe(t,i(function(r){if(r.subs.length===0||r.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return r;let o=[],s;for(let a=0;a<r.subs.length;a++){let l=r.subs[a],u=r.subs[a-1];if(l.label==="opener"&&u!==void 0&&Z(u))u.subs.push(l),l.subs.forEach(d=>u.subs.push(d)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(Z(l)||D(l))&&l.indentation>=s.indentation){let d=o.length-1;for(;d>0&&M(o[d]);)d-=1;if(s.subs.push(...o.splice(d+1)),l.subs.length>0){let c=s.subs.findIndex(h=>h.label!=="newVirtual"),_=s.subs.slice(0,c),p=s.subs.slice(c),f=p.length>0?[It(l.indentation,p,"newVirtual")]:[];s.subs=[..._,...f,l]}else s.subs.push(l)}else o.push(l),M(l)||(s=l)}return r.subs=o,r},"rebuilder"));return zn(t,r=>r==="newVirtual"),n}function qn(t,e=M,n){return Xe(t,i(function(o){if(o.subs.length<=1)return o;let s=[],a=[],l,u=!1;function d(c=!1){if(l!==void 0&&(s.length>0||!c)){let _=It(l,a,n);s.push(_)}else a.forEach(_=>s.push(_))}i(d,"flushBlockIntoNewSubs");for(let c=0;c<o.subs.length;c++){let _=o.subs[c],p=e(_);!p&&u&&(d(),a=[]),u=p,a.push(_),M(_)||(l=l??_.indentation)}return d(!0),o.subs=s,o},"rebuilder"))}function Q(t){return Xe(t,i(function(n){return D(n)&&n.label===void 0&&n.subs.length<=1?n.subs.length===0?void 0:n.subs[0]:(n.subs.length===1&&D(n.subs[0])&&n.subs[0].label===void 0&&(n.subs=n.subs[0].subs),n)},"rebuilder"))}function Nt(t,e){ho[t]=e}function ce(t,e){let n=mo(t),r=ho[e??""];return r?r(n):(Ce(n,Ji),kt(n))}var Ki,Ji,ho,Fe=S(()=>{"use strict";ge();Pe();i(mo,"parseRaw");i(Ce,"labelLines");i(Ye,"labelVirtualInherited");i(Ae,"buildLabelRules");i(kt,"combineClosersAndOpeners");i(qn,"groupBlocks");i(Q,"flattenVirtual");Ki={opener:/^[\[({]/,closer:/^[\])}]/},Ji=Ae(Ki),ho={};i(Nt,"registerLanguageSpecificParser");i(ce,"parseTree")});function go(t){let e=t;return Ce(e,Xi),e=kt(e),e=Q(e),Ye(e),I(e,n=>{if(n.label==="class"||n.label==="interface")for(let r of n.subs)!M(r)&&(r.label===void 0||r.label==="annotation")&&(r.label="member")},"bottomUp"),e}var Qi,Xi,bo=S(()=>{"use strict";ge();Pe();Fe();Qi={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},Xi=Ae(Qi);i(go,"processJava")});function yo(t){let e=t;if(Ce(e,ea),M(e))return e;function n(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}i(n,"headingLevel");let r=[e],o=[...e.subs];e.subs=[];for(let s of o){let a=n(s);if(a===void 0||M(s))r[r.length-1].subs.push(s);else{for(;r.length<a;)r.push(r[r.length-1]);for(r[a-1].subs.push(s),r[a]=s;r.length>a+1;)r.pop()}}return e=qn(e),e=Q(e),Ye(e),e}var Yi,ea,wo=S(()=>{"use strict";ge();Fe();Yi={heading:/^# /,subheading:/^## /,subsubheading:/### /},ea=Ae(Yi);i(yo,"processMarkdown")});function et(t){return" ".repeat(t.indentation)+t.sourceLine+`
`}function Eo(t){function e(n,r){let o="";return Z(n)?o=et(n):M(n)&&(o=`
`),r+o}return i(e,"accumulator"),Qe(t,"",e,"topDown")}function ta(t,e){let n=new Set(e),r=[],o="";function s(a){a.label!==void 0&&n.has(a.label)?(o!==""&&r.push({label:void 0,source:o}),r.push({label:a.label,source:Eo(a)}),o=""):(Z(a)&&(o+=et(a)),a.subs.forEach(s))}return i(s,"visit"),s(t),o!==""&&r.push({label:void 0,source:o}),r}function vo(t,e=0){let n=" ".repeat(e);if(t===void 0)return"UNDEFINED NODE";let r;t.subs===void 0?r="UNDEFINED SUBS":r=t.subs.map(a=>vo(a,e+2)).join(`,
`),r===""?r="[]":r=`[
${r}
      ${n}]`;let o=(D(t)||ue(t)?"   ":String(t.lineNumber).padStart(3," "))+`:  ${n}`,s=t.label===void 0?"":JSON.stringify(t.label);return D(t)||ue(t)?`${o}vnode(${t.indentation}, ${s}, ${r})`:M(t)?`${o}blank(${s??""})`:`${o}lnode(${t.indentation}, ${s}, ${JSON.stringify(t.sourceLine)}, ${r})`}function So(t,e=""){let n=t.label===void 0?"":`, ${JSON.stringify(t.label)}`,r=!M(t)&&t.subs.length>0?`[
${t.subs.map(o=>So(o,e+"  ")).join(`, 
`)}
${e}]`:"[]";switch(t.type){case"blank":return`${e}blankNode(${t.lineNumber}${n})`;case"top":return`topNode(${r}${n})`;case"virtual":return`${e}virtualNode(${t.indentation}, ${r}${n})`;case"line":return`${e}lineNode(${t.indentation}, ${t.lineNumber}, "${t.sourceLine}", ${r}${n})`}}function To(t){if(Z(t)||M(t))return t.lineNumber;for(let e of t.subs){let n=To(e);if(n!==void 0)return n}}function Mo(t){let e,n=t.subs.length-1;for(;n>=0&&e===void 0;)e=Mo(t.subs[n]),n--;return e===void 0&&!D(t)&&!ue(t)?t.lineNumber:e}var xo=S(()=>{"use strict";ge();Pe();i(et,"deparseLine");i(Eo,"deparseTree");i(ta,"deparseAndCutTree");i(vo,"describeTree");i(So,"encodeTree");i(To,"firstLineOf");i(Mo,"lastLineOf")});var tt=S(()=>{"use strict";bo();wo();Fe();ge();xo();Pe();Fe();Nt("markdown",yo);Nt("java",go)});function Re(t,e=Io){let n=J(t,r=>r?1:void 0);return I(n,r=>{if(M(r))return;let o=r.subs.reduce((s,a)=>Math.max(s,a.label??0),0);r.label=Math.max(r.label??0,o*e.worthUp)},"bottomUp"),I(n,r=>{if(M(r))return;let o=r.subs.map(l=>l.label??0),s=[...o];for(let l=0;l<o.length;l++)o[l]!==0&&(s=s.map((u,d)=>Math.max(u,Math.pow(e.worthSibling,Math.abs(l-d))*o[l])));let a=r.label;a!==void 0&&(s=s.map(l=>Math.max(l,e.worthDown*a))),r.subs.forEach((l,u)=>l.label=s[u])},"topDown"),Lo(n)}function Lo(t){let e=Qe(t,[],(n,r)=>((n.type==="line"||n.type==="blank")&&r.push(n.type==="line"?[et(n).trimEnd(),n.label??0]:["",n.label??0]),r),"topDown");return new nt(e)}var Io,Pt=S(()=>{"use strict";tt();jn();Io={worthUp:.9,worthSibling:.88,worthDown:.8};i(Re,"fromTreeWithFocussedLines");i(Lo,"fromTreeWithValuedLines")});function Vn(t,e=!0,n=!0){let r=typeof t=="string"?ce(t):ce(t.source,t.languageId);Q(r);let o=J(r,s=>e&&s!=="closer");return I(o,s=>{s.label===void 0&&(s.label=e&&s.label!==!1)},"topDown"),e&&I(o,s=>{if(s.label){let a=!1;for(let l of[...s.subs].reverse())l.label&&!a?a=!0:l.label=!1}else for(let a of s.subs)a.label=!1;s.subs.length>0&&(s.label=!1)},"topDown"),n&&I(o,s=>{s.label||=(Z(s)||M(s))&&s.lineNumber==0},"topDown"),Re(o)}var Hn=S(()=>{"use strict";tt();Pt();i(Vn,"elidableTextForSourceCode")});var Oe,Zn=S(()=>{"use strict";Ne();Oe=class t{constructor(e,n,r=H().tokenLength(e+`
`),o="strict"){this.text=e;this._value=n;this._cost=r;if(e.includes(`
`)&&o!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(n<0&&o!=="none")throw new Error("LineWithValueAndCost: value is negative");if(r<0&&o!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(o=="strict"&&n>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{i(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(e){return this._value*=e,this}recost(e=n=>H().tokenLength(n+`
`)){return this._cost=e(this.text),this}copy(){return new t(this.text,this.value,this.cost,"none")}}});function na(t,e,n,r,o,s){if(s.tokenLength(n+`
`)>e)throw new Error("maxTokens must be larger than the ellipsis length");o==="removeLeastBangForBuck"&&t.forEach(_=>_.adjustValue(1/_.cost));let a=t.reduce((_,p)=>Math.max(_,p.value),0)+1,l=t.reduce((_,p)=>Math.max(_,p.text.length),0)+1,u=n.trim(),d=t.reduce((_,p)=>_+p.cost,0),c=t.length+1;for(;d>e&&c-->=-1;){let _=t.reduce((g,E)=>E.value<g.value?E:g),p=t.indexOf(_),f=t.slice(0,p+1).reverse().find(g=>g.text.trim()!=="")??{text:""},h=r?Math.min(f.text.match(/^\s*/)?.[0].length??0,t[p-1]?.text.trim()===u?t[p-1]?.text.match(/^\s*/)?.[0].length??0:l,t[p+1]?.text.trim()===u?t[p+1]?.text.match(/^\s*/)?.[0].length??0:l):0,m=" ".repeat(h)+n,b=new Oe(m,a,s.tokenLength(m+`
`),"loose");t.splice(p,1,b),t[p+1]?.text.trim()===u&&t.splice(p+1,1),t[p-1]?.text.trim()===u&&t.splice(p-1,1);let y=t.reduce((g,E)=>g+E.cost,0);y>=d&&t.every(g=>g.value===a)&&(r=!1),d=y}if(c<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return t.map(_=>_.text).join(`
`)}var nt,jn=S(()=>{"use strict";Ne();Hn();Zn();nt=class t{constructor(e){this.lines=[];let n=[];for(let r of e){let o=Array.isArray(r)?r[1]:1,s=Array.isArray(r)?r[0]:r;typeof s=="string"?s.split(`
`).forEach(a=>n.push(new Oe(a,o))):s instanceof t?s.lines.forEach(a=>n.push(a.copy().adjustValue(o))):"source"in s&&"languageId"in s&&Vn(s).lines.forEach(a=>n.push(a.copy().adjustValue(o)))}this.lines=n}static{i(this,"ElidableText")}adjust(e){this.lines.forEach(n=>n.adjustValue(e))}recost(e=n=>H().tokenLength(n+`
`)){this.lines.forEach(n=>n.recost(e))}makePrompt(e,n="[...]",r=!0,o="removeLeastDesirable",s=H()){let a=this.lines.map(l=>l.copy());return na(a,e,n,r,o,s)}};i(na,"makePrompt")});function re(){}function ra(t,e,n,r,o){for(var s=[],a;e;)s.push(e),a=e.previousComponent,delete e.previousComponent,e=a;s.reverse();for(var l=0,u=s.length,d=0,c=0;l<u;l++){var _=s[l];if(_.removed){if(_.value=t.join(r.slice(c,c+_.count)),c+=_.count,l&&s[l-1].added){var f=s[l-1];s[l-1]=s[l],s[l]=f}}else{if(!_.added&&o){var p=n.slice(d,d+_.count);p=p.map(function(m,b){var y=r[c+b];return y.length>m.length?y:m}),_.value=t.join(p)}else _.value=t.join(n.slice(d,d+_.count));d+=_.count,_.added||(c+=_.count)}}var h=s[u-1];return u>1&&typeof h.value=="string"&&(h.added||h.removed)&&t.equals("",h.value)&&(s[u-2].value+=h.value,s.pop()),s}function oa(t,e,n){return Qn.diff(t,e,n)}function Ct(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ct=i(function(e){return typeof e},"_typeof"):Ct=i(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),Ct(t)}function $n(t){return aa(t)||la(t)||ua(t)||ca()}function aa(t){if(Array.isArray(t))return Gn(t)}function la(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ua(t,e){if(t){if(typeof t=="string")return Gn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(t,e)}}function Gn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ca(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kn(t,e,n,r,o){e=e||[],n=n||[],r&&(t=r(o,t));var s;for(s=0;s<e.length;s+=1)if(e[s]===t)return n[s];var a;if(da.call(t)==="[object Array]"){for(e.push(t),a=new Array(t.length),n.push(a),s=0;s<t.length;s+=1)a[s]=Kn(t[s],e,n,r,o);return e.pop(),n.pop(),a}if(t&&t.toJSON&&(t=t.toJSON()),Ct(t)==="object"&&t!==null){e.push(t),a={},n.push(a);var l=[],u;for(u in t)t.hasOwnProperty(u)&&l.push(u);for(l.sort(),s=0;s<l.length;s+=1)u=l[s],a[u]=Kn(t[u],e,n,r,u);e.pop(),n.pop()}else a=t;return a}function Co(t,e,n,r,o,s,a){a||(a={}),typeof a.context>"u"&&(a.context=4);var l=oa(n,r,a);if(!l)return;l.push({value:"",lines:[]});function u(y){return y.map(function(g){return" "+g})}i(u,"contextLines");for(var d=[],c=0,_=0,p=[],f=1,h=1,m=i(function(g){var E=l[g],v=E.lines||E.value.replace(/\n$/,"").split(`
`);if(E.lines=v,E.added||E.removed){var P;if(!c){var q=l[g-1];c=f,_=h,q&&(p=a.context>0?u(q.lines.slice(-a.context)):[],c-=p.length,_-=p.length)}(P=p).push.apply(P,$n(v.map(function(qe){return(E.added?"+":"-")+qe}))),E.added?h+=v.length:f+=v.length}else{if(c)if(v.length<=a.context*2&&g<l.length-2){var O;(O=p).push.apply(O,$n(u(v)))}else{var W,oe=Math.min(v.length,a.context);(W=p).push.apply(W,$n(u(v.slice(0,oe))));var se={oldStart:c,oldLines:f-c+oe,newStart:_,newLines:h-_+oe,lines:p};if(g>=l.length-2&&v.length<=a.context){var ve=/\n$/.test(n),j=/\n$/.test(r),te=v.length==0&&p.length>se.oldLines;!ve&&te&&n.length>0&&p.splice(se.oldLines,0,"\\ No newline at end of file"),(!ve&&!te||!j)&&p.push("\\ No newline at end of file")}d.push(se),c=0,_=0,p=[]}f+=v.length,h+=v.length}},"_loop"),b=0;b<l.length;b++)m(b);return{oldFileName:t,newFileName:e,oldHeader:o,newHeader:s,hunks:d}}var pc,ko,No,Po,Qn,sa,ia,da,rt,Jn,Ao=S(()=>{i(re,"Diff");re.prototype={diff:i(function(e,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.callback;typeof o=="function"&&(s=o,o={}),this.options=o;var a=this;function l(v){return s?(setTimeout(function(){s(void 0,v)},0),!0):v}i(l,"done"),e=this.castInput(e),n=this.castInput(n),e=this.removeEmpty(this.tokenize(e)),n=this.removeEmpty(this.tokenize(n));var u=n.length,d=e.length,c=1,_=u+d;o.maxEditLength&&(_=Math.min(_,o.maxEditLength));var p=(r=o.timeout)!==null&&r!==void 0?r:1/0,f=Date.now()+p,h=[{oldPos:-1,lastComponent:void 0}],m=this.extractCommon(h[0],n,e,0);if(h[0].oldPos+1>=d&&m+1>=u)return l([{value:this.join(n),count:n.length}]);var b=-1/0,y=1/0;function g(){for(var v=Math.max(b,-c);v<=Math.min(y,c);v+=2){var P=void 0,q=h[v-1],O=h[v+1];q&&(h[v-1]=void 0);var W=!1;if(O){var oe=O.oldPos-v;W=O&&0<=oe&&oe<u}var se=q&&q.oldPos+1<d;if(!W&&!se){h[v]=void 0;continue}if(!se||W&&q.oldPos+1<O.oldPos?P=a.addToPath(O,!0,void 0,0):P=a.addToPath(q,void 0,!0,1),m=a.extractCommon(P,n,e,v),P.oldPos+1>=d&&m+1>=u)return l(ra(a,P.lastComponent,n,e,a.useLongestToken));h[v]=P,P.oldPos+1>=d&&(y=Math.min(y,v-1)),m+1>=u&&(b=Math.max(b,v+1))}c++}if(i(g,"execEditLength"),s)i(function v(){setTimeout(function(){if(c>_||Date.now()>f)return s();g()||v()},0)},"exec")();else for(;c<=_&&Date.now()<=f;){var E=g();if(E)return E}},"diff"),addToPath:i(function(e,n,r,o){var s=e.lastComponent;return s&&s.added===n&&s.removed===r?{oldPos:e.oldPos+o,lastComponent:{count:s.count+1,added:n,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+o,lastComponent:{count:1,added:n,removed:r,previousComponent:s}}},"addToPath"),extractCommon:i(function(e,n,r,o){for(var s=n.length,a=r.length,l=e.oldPos,u=l-o,d=0;u+1<s&&l+1<a&&this.equals(n[u+1],r[l+1]);)u++,l++,d++;return d&&(e.lastComponent={count:d,previousComponent:e.lastComponent}),e.oldPos=l,u},"extractCommon"),equals:i(function(e,n){return this.options.comparator?this.options.comparator(e,n):e===n||this.options.ignoreCase&&e.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);return n},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};i(ra,"buildValues");pc=new re,ko=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,No=/\S/,Po=new re;Po.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!No.test(t)&&!No.test(e)};Po.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&ko.test(e[n])&&ko.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};Qn=new re;Qn.tokenize=function(t){this.options.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),e.push(o))}return e};i(oa,"diffLines");sa=new re;sa.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};ia=new re;ia.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};i(Ct,"_typeof");i($n,"_toConsumableArray");i(aa,"_arrayWithoutHoles");i(la,"_iterableToArray");i(ua,"_unsupportedIterableToArray");i(Gn,"_arrayLikeToArray");i(ca,"_nonIterableSpread");da=Object.prototype.toString,rt=new re;rt.useLongestToken=!0;rt.tokenize=Qn.tokenize;rt.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,o=r===void 0?function(s,a){return typeof a>"u"?n:a}:r;return typeof t=="string"?t:JSON.stringify(Kn(t,null,null,o),o,"  ")};rt.equals=function(t,e){return re.prototype.equals.call(rt,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};i(Kn,"canonicalize");Jn=new re;Jn.tokenize=function(t){return t.slice()};Jn.join=Jn.removeEmpty=function(t){return t};i(Co,"structuredPatch")});function pa(t,e){let n=typeof t=="string"?typeof e=="string"?void 0:e.languageId:typeof e=="string"||t.languageId===e.languageId?t.languageId:void 0;t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source;let r=Co("","",t,e),o=new Set,s=new Set;for(let u of r.hunks){for(let d=u.oldStart;d<u.oldStart+u.oldLines;d++)o.add(d);for(let d=u.newStart;d<u.newStart+u.newLines;d++)s.add(d)}let a=J(Q(ce(t,n)),()=>!1),l=J(Q(ce(e,n)),()=>!1);return I(a,u=>{(u.type==="line"||u.type==="blank")&&o.has(u.lineNumber)&&(u.label=!0)},"topDown"),I(l,u=>{(u.type==="line"||u.type==="blank")&&s.has(u.lineNumber)&&(u.label=!0)},"topDown"),[Re(a),Re(l)]}var Fo=S(()=>{"use strict";Ao();tt();Pt();i(pa,"elidableTextForDiff")});var Ro=S(()=>{"use strict";jn();Fo();Pt();Hn();Zn()});function ma({source:t}){return t.startsWith("#!")||t.startsWith("<!DOCTYPE")}function ot(t,e,n){let r=At[e]??n;if(r){let o=r.end==""?"":" "+r.end;return`${r.start} ${t}${o}`}return""}function Be(t,e,n){if(!At[e]&&!n||t==="")return"";let r=t.endsWith(`
`),s=(r?t.slice(0,-1):t).split(`
`).map(a=>ot(a,e,n)).join(`
`);return r?s+`
`:s}function Bo(t,e){let{languageId:n}=t;return fa.indexOf(n)===-1&&!ma(t)?n in Oo?Oo[n]:ot(`Language: ${n}`,n,e):""}function Do(t,e){return t.relativePath?ot(`Path: ${t.relativePath}`,t.languageId,e):""}function De(t){return t===""||t.endsWith(`
`)?t:t+`
`}var At,fa,Oo,be=S(()=>{"use strict";At={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},fa=["php","plaintext"],Oo={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};i(ma,"hasLanguageMarker");i(ot,"comment");i(Be,"commentBlockAsSingles");i(Bo,"getLanguageMarker");i(Do,"getPathMarker");i(De,"newLineEnded")});function ga(t){return{...ha,...t}}function Ft(t,e={}){let n=ga(e),r=H(n.tokenizerName);if(n.maxLineCount!==void 0&&n.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(n.maxTokenLength!==void 0&&n.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(n.maxLineCount===0||n.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:n.tokenizerName};let o=t.source.slice(0,t.offset);return n.maxLineCount!==void 0&&(o=o.split(`
`).slice(-n.maxLineCount).join(`
`)),n.maxTokenLength!==void 0&&(o=r.takeLastLinesTokens(o,n.maxTokenLength)),{context:o,lineCount:o.split(`
`).length,tokenLength:r.tokenLength(o),tokenizerName:n.tokenizerName}}var ha,Xn=S(()=>{"use strict";Ne();ha={tokenizerName:"cl100k_base"};i(ga,"cursorContextOptions");i(Ft,"getCursorContext")});function Wo(t,e){if(t.length===0||e.length===0)return{score:t.length+e.length};let n=Array.from({length:t.length}).map(()=>Array.from({length:e.length}).map(()=>0));for(let r=0;r<t.length;r++)n[r][0]=r;for(let r=0;r<e.length;r++)n[0][r]=r;for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)n[o][r]=Math.min((o==0?r:n[o-1][r])+1,(r==0?o:n[o][r-1])+1,(o==0||r==0?Math.max(o,r):n[o-1][r-1])+(t[o]==e[r]?0:1));return{score:n[t.length-1][e.length-1]}}var Uo=S(()=>{"use strict";i(Wo,"findEditDistanceScore")});function Ut(t){switch(t){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${t}`)}}var st,ba,Rt,Ot,it,Bt,Dt,Wt,zt=S(()=>{"use strict";qt();We();Uo();st=50,ba=5,Rt=class{constructor(){this.used=new Map;this.unused=new Map}static{i(this,"PromptBackground")}add(e){for(let[n,r]of e.used)this.used.set(n,r);for(let[n,r]of e.unused)this.unused.set(n,r)}markUsed(e){this.IsSnippet(e)&&this.used.set(e.id,this.convert(e))}undoMarkUsed(e){this.IsSnippet(e)&&this.used.delete(e.id)}markUnused(e){this.IsSnippet(e)&&this.unused.set(e.id,this.convert(e))}convert(e){return{score:e.score.toFixed(4),length:e.text.length}}IsSnippet(e){return e.kind=="SimilarFile"||e.kind=="TooltipSignature"}},Ot=class{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}static{i(this,"PromptChoices")}add(e){for(let[n,r]of e.used)this.used.set(n,(this.used.get(n)||0)+r);for(let[n,r]of e.unused)this.unused.set(n,(this.unused.get(n)||0)+r);for(let[n,r]of e.usedCounts)this.usedCounts.set(n,(this.usedCounts.get(n)||0)+r);for(let[n,r]of e.unusedCounts)this.unusedCounts.set(n,(this.unusedCounts.get(n)||0)+r)}markUsed(e){this.used.set(e.kind,(this.used.get(e.kind)||0)+e.tokens),e.kind=="BeforeCursor"?this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)+e.text.split(`
`).length):this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)+1)}undoMarkUsed(e){this.used.set(e.kind,(this.used.get(e.kind)||0)-e.tokens),e.kind=="BeforeCursor"?this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)-e.text.split(`
`).length):this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)-1)}markUnused(e){this.unused.set(e.kind,(this.unused.get(e.kind)||0)+e.tokens),e.kind=="BeforeCursor"?this.unusedCounts.set(e.kind,(this.unusedCounts.get(e.kind)||0)+e.text.split(`
`).length):this.unusedCounts.set(e.kind,(this.unusedCounts.get(e.kind)||0)+1)}},it=class{static{i(this,"PromptOrderList")}constructor(e="default"){switch(e){default:this._rankedList=["LanguageMarker","PathMarker","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(e){return e.sort((n,r)=>{let o=this._rankedList.indexOf(n.kind),s=this._rankedList.indexOf(r.kind);if(o===-1||s===-1)throw`Invalid element kind: ${n.kind} or ${r.kind}, not found in prompt element ordering list`;return o===s?n.id-r.id:o-s})}},Bt=class extends it{static{i(this,"PromptPriorityList")}constructor(e="default"){switch(super(),e){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","SimilarFile","LanguageMarker"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","PathMarker","LanguageMarker"]}}sortElements(e){return e.sort((n,r)=>{let o=this._rankedList.indexOf(n.kind),s=this._rankedList.indexOf(r.kind);if(o===-1||s===-1)throw`Invalid element kind: ${n.kind} or ${r.kind}, not found in snippet provider priority list`;return o===s?r.id-n.id:o-s})}};i(Ut,"kindForSnippetProviderType");Dt=class{constructor(e){this.ranges=new Array;let n=0,r;for(let o of e)o.text.length!==0&&(r==="BeforeCursor"&&o.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=o.text.length:this.ranges.push({kind:o.kind,start:n,end:n+o.text.length}),r=o.kind,n+=o.text.length)}static{i(this,"PromptElementRanges")}},Wt=class{constructor(e,n,r,o,s){this.tokenizer=e;this.lineEndingOption=n;this.orderingList=r;this.snippetTextProcessor=o;this.priorityList=s;this.content=[];this.basePromptBackground=new Rt;this.baseTallyOfChoices=new Ot}static{i(this,"PromptWishlist")}extMarkUnused(e){this.basePromptBackground.markUnused(e),this.baseTallyOfChoices.markUnused(e)}getContent(){return[...this.content]}convertLineEndings(e){return this.lineEndingOption==="unix"&&(e=e.replace(/\r\n?/g,`
`)),e}maxPrefixTokenLength(){return this.content.reduce((e,n)=>e+=n.tokens,0)}append(e,n,r=this.tokenizer.tokenLength(e),o=NaN){e=this.convertLineEndings(e);let s=this.content.length;return this.content.push({id:s,text:e,kind:n,tokens:r,score:o}),s}fulfillPrefix(e){let n=new Rt;n.add(this.basePromptBackground);let r=new Ot;r.add(this.baseTallyOfChoices);function o(h){n.markUsed(h),r.markUsed(h)}i(o,"markUsed");function s(h){n.undoMarkUsed(h),r.undoMarkUsed(h)}i(s,"undoMarkUsed");function a(h){n.markUnused(h),r.markUnused(h)}i(a,"markUnused"),this.priorityList.sortElements(this.content);let l,u=[],d=e;this.content.forEach(h=>{if(d>0||l===void 0){let m=h.tokens;if(d>=m)d-=m,o(h),u.push(h);else if(h.kind==="BeforeCursor"&&d>0){let{summarizedElement:b,removedMaterial:y}=this.snippetTextProcessor.summarize(this.tokenizer,h,d);h=b,m=h.tokens,d-=m,h.text.length>0&&o(h),y.text.length>0&&a(y),u.push(h)}else l===void 0?l=h:a(h)}else a(h)}),this.orderingList.sortElements(u);let c=u.reduce((h,m)=>h+m.text,""),_=this.tokenizer.tokenLength(c);for(;_>e;){this.priorityList.sortElements(u);let h=u.pop();h&&(s(h),a(h),l!==void 0&&a(l),l=void 0),this.orderingList.sortElements(u),c=u.reduce((m,b)=>m+b.text,""),_=this.tokenizer.tokenLength(c)}let p=[...u];if(l!==void 0){p.push(l),this.orderingList.sortElements(p);let h=p.reduce((b,y)=>b+y.text,""),m=this.tokenizer.tokenLength(h);if(m<=e){o(l);let b=new Dt(p);return{prefix:h,suffix:"",prefixLength:m,suffixLength:0,promptChoices:r,promptBackground:n,promptElementRanges:b}}else a(l)}let f=new Dt(u);return{prefix:c,suffix:"",prefixLength:_,suffixLength:0,promptChoices:r,promptBackground:n,promptElementRanges:f}}fulfill(e,n,r){if(n.suffixPercent===0||e.length===0)return{promptInfo:this.fulfillPrefix(n.maxPromptLength),newCachedSuffix:r};let o=n.maxPromptLength-ba,s=Math.floor(o*(100-n.suffixPercent)/100),a=o-s,l=e.trimStart();if(o>st&&a<st)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${st}
`);let u=this.tokenizer.takeFirstTokens(l,st),d=!1;u.tokens.length>0&&n.suffixMatchThreshold>0&&100*Wo(u.tokens,r.tokens.slice(0,st))?.score<n.suffixMatchThreshold*u.tokens.length&&(d=!0);let c;if(d)s=o-r.tokens.length,c=r;else{let p=this.maxPrefixTokenLength(),f=this.tokenizer.tokenLength(l);p<s?(s=p,a=o-s):f<a&&(s=o-f,a=f),c=this.tokenizer.takeFirstTokens(l,a)}let _=this.fulfillPrefix(s);return _.suffix=c.text,_.suffixLength=c.tokens.length,{promptInfo:_,newCachedSuffix:c}}}});function wa(t,e,n){let r=ya[t.semantics],s=(t.relativePath?`Compare this ${r} from ${t.relativePath}:`:`Compare this ${r}:`)+`
`+t.snippet;return s.endsWith(`
`)||(s+=`
`),Be(s,e,n)}function zo(t){t.sort((e,n)=>n.score-e.score)}function Ea(t,e,n){if(e==0)return[];let r=t.map(s=>({...s,kind:Ut(s.provider)})),o=[];return n.rankedList.forEach(s=>{let a=r.filter(({kind:l})=>l===s);zo(a),o.push(...a)}),o.slice(0,e)}function qo(t,e,n,r,o,s){let l=Ea(t,s,r).map(u=>{let d=wa(u,e,o),c=n.tokenLength(d);return{announcedSnippet:d,provider:u.provider,score:u.score,tokens:c,relativePath:u.relativePath}}).filter(u=>u.tokens>0);return zo(l),l.reverse(),l}var X,ye,ya,we=S(()=>{"use strict";be();zt();X=(o=>(o.SimilarFiles="similar-files",o.Language="language",o.Path="path",o.TooltipSignature="tooltip-signature",o))(X||{}),ye=(c=>(c.Function="function",c.Snippet="snippet",c.Variable="variable",c.Parameter="parameter",c.Method="method",c.Class="class",c.Module="module",c.Alias="alias",c.Enum="enum member",c.Interface="interface",c))(ye||{}),ya={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};i(wa,"announceSnippet");i(zo,"sortSnippetsDescending");i(Ea,"selectSnippets");i(qo,"processSnippetsForWishlist")});function va(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}var er,tr,jo,jt,Sa,Ta,Ma,nr=S(()=>{"use strict";we();er=class{constructor(e){this.keys=[];this.cache={};this.size=e}static{i(this,"FifoCache")}put(e,n){if(this.cache[e]=n,this.keys.length>this.size){this.keys.push(e);let r=this.keys.shift()??"";delete this.cache[r]}}get(e){return this.cache[e]}},tr=class{static{i(this,"Tokenizer")}constructor(e){this.stopsForLanguage=Ma.get(e.languageId)??Ta}tokenize(e){return new Set(va(e).filter(n=>!this.stopsForLanguage.has(n)))}},jo=new er(20),jt=class{static{i(this,"WindowedMatcher")}constructor(e){this.referenceDoc=e,this.tokenizer=new tr(e)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,n="descending"){return n=="ascending"?e.sort((r,o)=>r.score>o.score?1:-1):n=="descending"?e.sort((r,o)=>r.score>o.score?-1:1):e}retrieveAllSnippets(e,n="descending"){let r=[];if(e.source.length===0||this.referenceTokens.size===0)return r;let o=e.source.split(`
`),s=this.id()+":"+e.source,a=jo.get(s)??[],l=a.length==0,u=l?o.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[c,_]]of this.getWindowsDelineations(o).entries()){if(l){let h=new Set;u.slice(c,_).forEach(m=>m.forEach(h.add,h)),a.push(h)}let p=a[d],f=this.similarityScore(p,this.referenceTokens);r.push({score:f,startLine:c,endLine:_})}return l&&jo.put(s,a),this.sortScoredSnippets(r,n)}async findMatches(e){let n=await this.findBestMatch(e);return n?[n]:[]}async findBestMatch(e){if(e.source.length===0||this.referenceTokens.size===0)return;let n=e.source.split(`
`),r=this.retrieveAllSnippets(e,"descending");return r.length===0||r[0].score===0?void 0:{snippet:n.slice(r[0].startLine,r[0].endLine).join(`
`),semantics:"snippet",provider:"similar-files",...r[0]}}};i(va,"splitIntoWords");Sa=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),Ta=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...Sa]),Ma=new Map([])});function Vo(t,e){let n=[],r=e.length;if(r==0)return[];if(r<t)return[[0,r]];for(let o=0;o<r-t+1;o++)n.push([o,o+t]);return n}var Ho=S(()=>{"use strict";Pe();Fe();i(Vo,"getBasicWindowDelineations")});function xa(t,e){let n=new Set;return t.forEach(r=>{e.has(r)&&n.add(r)}),n.size/(t.size+e.size-n.size)}var Vt,Zo=S(()=>{"use strict";Xn();nr();Ho();Vt=class t extends jt{static{i(this,"FixedWindowSizeJaccardMatcher")}constructor(e,n){super(e),this.windowLength=n}static{this.FACTORY=e=>({to:n=>new t(n,e)})}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return Vo(this.windowLength,e)}_getCursorContextInfo(e){return Ft(e,{maxLineCount:this.windowLength})}similarityScore(e,n){return xa(e,n)}};i(xa,"computeScore")});function Na(t,e){return Vt.FACTORY(e.snippetLength).to(t)}async function $o(t,e,n){let r={...Ia[n]},o=Na(t,r);return r.numberOfSnippets===0?[]:(await e.filter(a=>a.source.length<La&&a.source.length>0).slice(0,ka).reduce(async(a,l)=>(await a).concat((await o.findMatches(l)).map(u=>({relativePath:l.relativePath,...u}))),Promise.resolve([]))).filter(a=>a.score&&a.snippet&&a.score>r.threshold).sort((a,l)=>a.score-l.score).slice(-r.numberOfSnippets)}var at,Ia,La,ka,lt=S(()=>{"use strict";Zo();at=(u=>(u.None="none",u.Conservative="conservative",u.Medium="medium",u.Eager="eager",u.EagerButLittle="eagerButLittle",u.EagerButMedium="eagerButMedium",u.EagerButMuch="eagerButMuch",u.RetrievalComparable="retrievalComparable",u))(at||{}),Ia={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},La=1e4,ka=20;i(Na,"getMatcher");i($o,"getSimilarSnippets")});function Go(t,e,n){if(!n)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let r=e.text.split(`
`);for(let b=0;b<r.length-1;b++)r[b]+=`
`;let o=[];r.forEach((b,y)=>{b===`
`&&o.length>0&&!o[o.length-1].endsWith(`

`)?o[o.length-1]+=`
`:o.push(b)});let s=o.map(b=>t.tokenLength(b)),a=1,l=0;for(;a<=s.length;a++){let b=s.at(-a);if(b){if(b+l>n){a--;break}l+=b}}let d=o.slice(-a).join(""),c=t.tokenLength(d),p=o.slice(0,-a).join(""),f=t.tokenLength(p),h={id:e.id,kind:e.kind,text:d,tokens:c,score:e.score},m={id:e.id,kind:e.kind,text:p,tokens:f,score:e.score};return{summarizedElement:h,removedMaterial:m}}var Ko=S(()=>{"use strict";i(Go,"truncateFirstLinesFirst")});var Ht,Jo=S(()=>{"use strict";Ko();zt();Ht=class{static{i(this,"SnippetTextProcessor")}constructor(e="default"){switch(e){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",Go]])}}isSummarizationAvailable(e){return this.kindToFunctionMap.has(e)}summarize(e,n,r){return this.kindToFunctionMap.get(n.kind)(e,n,r)}}});function Qo(t,e){let n=`Use ${t}`;return Be(n,e)}function Xo(t){let e=t.source.substring(0,t.offset);return Ca.test(e)}function Yo(t,e){let n=t.lastIndexOf(`
`)+1,r=t.substring(0,n),o=t.substring(n);return e.snippet=e.snippet+o,[r,e]}var Ca,rr=S(()=>{"use strict";be();Ca=/(\.|\->|::)\w+$/;i(Qo,"announceTooltipSignatureSnippet");i(Xo,"endsWithAttributesOrMethod");i(Yo,"transferLastLineToTooltipSignature")});function de(t){return t=t.toLowerCase(),Fa[t]??t}async function Ra(t,e={},n=[]){let r=new Zt(e),o=H(r.tokenizerName),s=new Ht(r.snippetTextProcessingPreset),a=new it(r.promptOrderListPreset),l=new Bt(r.promptPriorityPreset),{source:u,offset:d}=t;if(d<0||d>u.length)throw new Error(`Offset ${d} is out of range.`);t.languageId=de(t.languageId);let c=new Wt(o,r.lineEnding,a,s,l),_=n.find(E=>E.provider==="path"),p=n.find(E=>E.provider==="language"),f=n.find(E=>E.provider==="tooltip-signature");_!==void 0&&_.snippet.length>0?(c.append(_.snippet,"PathMarker"),p&&c.extMarkUnused({text:p.snippet,kind:"LanguageMarker",tokens:o.tokenLength(p.snippet),id:NaN,score:NaN})):p&&c.append(p.snippet,"LanguageMarker"),n=n.filter(E=>E.provider!=="language"&&E.provider!=="path"&&E.provider!=="tooltip-signature");function h(){qo(n,t.languageId,o,l,e.defaultCommentMarker,r.numberOfSnippets).forEach(v=>{let P=Ut(v.provider);c.append(v.announcedSnippet,P,v.tokens,v.score)})}i(h,"addSnippetsNow"),h();let m=u.substring(0,d);f!==void 0&&o.tokenLength(f.snippet)<=os?([m,f]=Yo(m,f),c.append(f.snippet,"TooltipSignature")):f!==void 0&&c.extMarkUnused({text:f.snippet,kind:"TooltipSignature",tokens:o.tokenLength(f.snippet),id:NaN,score:NaN}),c.append(m,"BeforeCursor");let b=u.slice(d),{promptInfo:y,newCachedSuffix:g}=c.fulfill(b,r,es);return es=g,y}var es,ts,ns,rs,os,ss,Aa,Yn,is,as,Zt,Fa,We=S(()=>{"use strict";lt();we();Jo();Ne();rr();zt();es={text:"",tokens:[]},ts=500,ns=8192-ts,rs=4,os=150,ss=10,Aa=15,Yn=(n=>(n.ConvertToUnix="unix",n.KeepOriginal="keep",n))(Yn||{}),is=(n=>(n.None="none",n.FifteenPercent="fifteenPercent",n))(is||{}),as=(n=>(n.Equal="equal",n.Levenshtein="levenshteineditdistance",n))(as||{}),Zt=class{constructor(e){this.maxPromptLength=ns;this.numberOfSnippets=rs;this.similarFiles="eager";this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=ss;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";this.defaultCommentMarker=void 0;if(Object.assign(this,e),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`)}static{i(this,"PromptOptions")}},Fa={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};i(de,"normalizeLanguageId");i(Ra,"getPrompt")});var _e,Y,Ee=S(()=>{"use strict";sr();_e=class extends Error{static{i(this,"ProviderTimeoutError")}constructor(e){super(e),this.name="ProviderTimeoutError"}},Y=class{static{i(this,"SnippetProvider")}constructor(e){this.api=e}getSnippets(e,n){return new Promise((r,o)=>{n.aborted&&o({error:new _e("provider aborted"),providerType:this.type}),n.addEventListener("abort",()=>{o({error:new _e(`max runtime exceeded: ${or} ms`),providerType:this.type})},{once:!0});let s=performance.now();this.buildSnippets(e).then(a=>{let l=performance.now();r({snippets:a,providerType:this.type,runtime:l-s})}).catch(a=>{o({error:a,providerType:this.type})})})}}});var $t,ls=S(()=>{"use strict";be();We();we();Ee();$t=class extends Y{constructor(){super(...arguments);this.type="language"}static{i(this,"LanguageSnippetProvider")}async buildSnippets(n){let{currentFile:r,options:o}=n;return r.languageId=de(r.languageId),[{provider:this.type,semantics:"snippet",snippet:De(Bo(r,o.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}}});var Gt,us=S(()=>{"use strict";be();We();we();Ee();Gt=class extends Y{constructor(){super(...arguments);this.type="path"}static{i(this,"PathSnippetProvider")}async buildSnippets(n){let{currentFile:r,options:o}=n;return r.languageId=de(r.languageId),[{provider:this.type,semantics:"snippet",snippet:De(Do(r,o.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}}});var Kt,cs=S(()=>{"use strict";qt();lt();Ee();Kt=class extends Y{constructor(){super(...arguments);this.type="similar-files"}static{i(this,"SimilarFilesProvider")}async buildSnippets(n){let{currentFile:r,similarFiles:o,options:s}=n;return s&&o&&o.length&&s.similarFiles!=="none"?await this.api.getSimilarSnippets(r,o,s.similarFiles):[]}}});var Jt,ds=S(()=>{"use strict";be();We();we();rr();Ee();Jt=class extends Y{constructor(){super(...arguments);this.type="tooltip-signature"}static{i(this,"TooltipSignatureSnippetProvider")}async buildSnippets(n){let{currentFile:r,tooltipSignature:o}=n,s=[];return r.languageId=de(r.languageId),o&&Xo(r)&&s.push({provider:this.type,semantics:"snippet",snippet:De(Qo(o,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),s}}});function Oa(t){return new Promise(e=>{setTimeout(()=>e(`delay: ${t}`),t)})}var ps,ee,_s,ir,Qt,ms=S(()=>{"use strict";ps=require("path"),ee=require("worker_threads");lt();i(Oa,"sleep");_s=["getSimilarSnippets","sleep"],ir=class{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=$o;this.sleep=Oa;!ee.isMainThread&&ee.workerData?.port&&(Ln(),process.cwd=()=>ee.workerData.cwd,this.configureWorkerResponse(ee.workerData.port))}static{i(this,"WorkerProxy")}initWorker(){let{port1:e,port2:n}=new ee.MessageChannel;this.port=e,this.worker=new ee.Worker((0,ps.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:n,cwd:process.cwd()},transferList:[n]}),this.port.on("message",r=>this.handleMessage(r)),this.port.on("error",r=>this.handleError(r))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let e of _s)this.fns.set(e,this[e]),this.proxy(e)}unproxyFunctions(){for(let e of _s){let n=this.fns.get(e);if(n)this[e]=n;else throw new Error(`Unproxy function not found: ${e}`)}}configureWorkerResponse(e){this.port=e,this.port.on("message",async({id:n,fn:r,args:o})=>{let s=this[r];if(!s)throw new Error(`Function not found: ${r}`);try{let a=await s.apply(this,o);this.port.postMessage({id:n,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:n,err:a,code:a.code}):this.port.postMessage({id:n,err:a})}})}handleMessage({id:e,err:n,code:r,res:o}){let s=this.handlers.get(e);s&&(this.handlers.delete(e),n?(n.code=r,s.reject(n)):s.resolve(o))}handleError(e){console.log(e);let n;if(e instanceof Error){n=e,n.code==="MODULE_NOT_FOUND"&&n.message?.endsWith("workerProxy.js'")&&(n=new Error("Failed to load workerProxy.js"),n.code="CopilotPromptLoadFailure");let r=new Error().stack;n.stack&&r?.match(/^Error\n/)&&(n.stack+=r.replace(/^Error/,""))}else e?.name==="ExitStatus"&&typeof e.status=="number"?(n=new Error(`workerProxy.js exited with status ${e.status}`),n.code=`CopilotPromptWorkerExit${e.status}`):n=new Error(`Non-error thrown: ${e}`);for(let r of this.handlers.values())r.reject(n);throw n}proxy(e){this[e]=function(...n){let r=this.nextHandlerId++;return new Promise((o,s)=>{this.handlers.set(r,{resolve:o,reject:s}),this.port?.postMessage({id:r,fn:e,args:n})})}}},Qt=new ir});function hs(t){return t.status==="fulfilled"}function Da(t){return t.status==="rejected"}function gs(t){return t.filter(hs).flatMap(e=>e.value.snippets)}function bs(t){return t.filter(Da).flatMap(e=>e.reason)}function ys(t){let e={},n={};return t.forEach(r=>{hs(r)?(e[r.value.providerType]=Math.round(r.value.runtime),n[r.value.providerType]=!1):r.reason.error instanceof _e&&(n[r.reason.providerType]=!0,e[r.reason.providerType]=0)}),{runtimes:e,timeouts:n}}function Wa(t){return Promise.all(t.map(e=>e.then(Ua,za)))}function Ua(t){return{status:"fulfilled",value:t}}function za(t){return{status:"rejected",reason:t}}var or,Ba,Xt,sr=S(()=>{"use strict";ls();us();cs();Ee();ds();ms();or=300,Ba=[$t,Gt,Kt,Jt];i(hs,"isFulfilledResult");i(Da,"isRejectedResult");i(gs,"providersSnippets");i(bs,"providersErrors");i(ys,"providersPerformance");Xt=class{constructor(e=Ba){this.startThreading=()=>Qt.startThreading();this.stopThreading=()=>Qt.stopThreading();this.providers=e.map(n=>new n(Qt))}static{i(this,"SnippetOrchestrator")}async getSnippets(e){let n=AbortSignal.timeout(or),r=this.providers.map(o=>o.getSnippets(e,n));return Promise.allSettled?Promise.allSettled(r):Wa(r)}};i(Wa,"allSettledBackup");i(Ua,"createPromiseFulfilledResult");i(za,"createPromiseRejectedResult")});var ws=x((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{i(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((t,e)=>{throw e},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}i(locateFile,"locateFile");function logExceptionOnExit(t){t instanceof ExitStatus||err("exiting due to exception: "+t)}if(i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((t,e)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,e?void 0:"utf8")),"read_"),readBinary=i(t=>{var e=read_(t,!0);return e.buffer||(e=new Uint8Array(e)),e},"readBinary"),readAsync=i((t,e,n)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(r,o){r?n(r):e(o.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((t,e)=>{if(keepRuntimeAlive())throw process.exitCode=t,e;logExceptionOnExit(e),process.exit(t)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},"readBinary")),readAsync=i((t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{r.status==200||r.status==0&&r.response?e(r.response):n()},r.onerror=n,r.send(null)},"readAsync"),setWindowTitle=i(t=>document.title=t,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,o));for(var s="";e<o;){var a=t[e++];if(128&a){var l=63&t[e++];if((224&a)!=192){var u=63&t[e++];if((a=(240&a)==224?(15&a)<<12|l<<6|u:(7&a)<<18|l<<12|u<<6|63&t[e++])<65536)s+=String.fromCharCode(a);else{var d=a-65536;s+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(t,e,n,r){if(!(r>0))return 0;for(var o=n,s=n+r-1,a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&t.charCodeAt(++a)),l<=127){if(n>=s)break;e[n++]=l}else if(l<=2047){if(n+1>=s)break;e[n++]=192|l>>6,e[n++]=128|63&l}else if(l<=65535){if(n+2>=s)break;e[n++]=224|l>>12,e[n++]=128|l>>6&63,e[n++]=128|63&l}else{if(n+3>=s)break;e[n++]=240|l>>18,e[n++]=128|l>>12&63,e[n++]=128|l>>6&63,e[n++]=128|63&l}}return e[n]=0,n-o}i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(t,e,n){return stringToUTF8Array(t,HEAPU8,e,n)}i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++n):e+=3}return e}i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}i(postRun,"postRun");function addOnPreRun(t){__ATPRERUN__.unshift(t)}i(addOnPreRun,"addOnPreRun");function addOnInit(t){__ATINIT__.unshift(t)}i(addOnInit,"addOnInit");function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}i(addRunDependency,"addRunDependency");function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}i(removeRunDependency,"removeRunDependency");function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(t){return t.startsWith(dataURIPrefix)}i(isDataURI,"isDataURI");function isFileURI(t){return t.startsWith("file://")}i(isFileURI,"isFileURI");function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(t,e){readAsync(wasmBinaryFile,function(n){t(new Uint8Array(n))},e)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}i(getBinaryPromise,"getBinaryPromise");function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function e(o,s){var a=o.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}i(e,"t");function n(o){e(o.instance,o.module)}i(n,"r");function r(o){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,t)}).then(function(s){return s}).then(o,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(i(r,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(o){return err("Module.instantiateWasm callback failed with error: "+o),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?r(n):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(o){return WebAssembly.instantiateStreaming(o,t).then(n,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),r(n)})}),{}}i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(t,e){var n=GOT[e];return n||(n=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(e)||(n.required=!0),n}};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(t){var e=0,n=0;function r(){for(var y=0,g=1;;){var E=t[e++];if(y+=(127&E)*g,g*=128,!(128&E))break}return y}i(r,"_");function o(){var y=r();return UTF8ArrayToString(t,(e+=y)-y,y)}i(o,"n");function s(y,g){if(y)throw new Error(g)}i(s,"s");var a="dylink.0";if(t instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(t,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(t,a)),s(l.length===0,"need dylink section"),n=(t=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(t[8]!==0,"need the dylink section to be first"),e=9;var u=r();n=e+u,a=o()}var d={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){d.memorySize=r(),d.memoryAlign=r(),d.tableSize=r(),d.tableAlign=r();for(var c=r(),_=0;_<c;++_){var p=o();d.neededDynlibs.push(p)}}else for(s(a!=="dylink.0");e<n;){var f=t[e++],h=r();if(f===1)d.memorySize=r(),d.memoryAlign=r(),d.tableSize=r(),d.tableAlign=r();else if(f===2)for(c=r(),_=0;_<c;++_)p=o(),d.neededDynlibs.push(p);else if(f===3)for(var m=r();m--;){var b=o();256&r()&&d.tlsExports.add(b)}else if(f===4)for(m=r();m--;)o(),b=o(),(3&r())==1&&d.weakImports.add(b);else e+=h}return d}i(getDylinkMetadata,"getDylinkMetadata");function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];case"*":return HEAPU32[t>>2];default:abort("invalid type for getValue: "+e)}return null}i(getValue,"getValue");function asmjsMangle(t){return t.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(t)?t:"_"+t}i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(t,e){for(var n in t)if(t.hasOwnProperty(n)){asmLibraryArg.hasOwnProperty(n)||(asmLibraryArg[n]=t[n]);var r=asmjsMangle(n);Module.hasOwnProperty(r)||(Module[r]=t[n]),n=="__main_argc_argv"&&(Module._main=t[n])}}i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(t,e,n){var r=Module["dynCall_"+t];return n&&n.length?r.apply(null,[e].concat(n)):r.call(null,e)}i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(t){var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e}i(getWasmTableEntry,"getWasmTableEntry");function dynCall(t,e,n){return t.includes("j")?dynCallLegacy(t,e,n):getWasmTableEntry(e).apply(null,n)}i(dynCall,"dynCall");function createInvokeFunction(t){return function(){var e=stackSave();try{return dynCall(t,arguments[0],Array.prototype.slice.call(arguments,1))}catch(n){if(stackRestore(e),n!==n+0)throw n;_setThrew(1,0)}}}i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(t,e){return HEAPU8.fill(0,t,t+e),t}i(zeroMemory,"zeroMemory");function getMemory(t){if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,n=e+t+15&-16;return ___heap_base=n,GOT.__heap_base.value=n,e}i(getMemory,"getMemory");function isInternalSym(t){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(t)}i(isInternalSym,"isInternalSym");function uleb128Encode(t,e){t<128?e.push(t):e.push(t%128|128,t>>7)}i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(t){for(var e={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},r=1;r<t.length;++r)n.parameters.push(e[t[r]]),t[r]==="j"&&n.parameters.push("i32");return n}i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(t,e){var n=t.slice(0,1),r=t.slice(1),o={i:127,p:127,j:126,f:125,d:124};e.push(96),uleb128Encode(r.length,e);for(var s=0;s<r.length;++s)e.push(o[r[s]]);n=="v"?e.push(0):e.push(1,o[n])}i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(t,e){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var n=[1];generateFuncType(e,n);var r=[0,97,115,109,1,0,0,0,1];uleb128Encode(n.length,r),r.push.apply(r,n),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(r));return new WebAssembly.Instance(o,{e:{f:t}}).exports.f}i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(t,e){if(functionsInTableMap)for(var n=t;n<t+e;n++){var r=getWasmTableEntry(n);r&&functionsInTableMap.set(r,n)}}i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1}i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(t,e){wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)}i(setWasmTableEntry,"setWasmTableEntry");function addFunction(t,e){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(t))return functionsInTableMap.get(t);var n=getEmptyTableSlot();try{setWasmTableEntry(n,t)}catch(r){if(!(r instanceof TypeError))throw r;setWasmTableEntry(n,convertJsFunctionToWasm(t,e))}return functionsInTableMap.set(t,n),n}i(addFunction,"addFunction");function updateGOT(t,e){for(var n in t)if(!isInternalSym(n)){var r=t[n];n.startsWith("orig$")&&(n=n.split("$")[1],e=!0),GOT[n]||(GOT[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(e||GOT[n].value==0)&&(typeof r=="function"?GOT[n].value=addFunction(r):typeof r=="number"?GOT[n].value=r:err("unhandled export type for `"+n+"`: "+typeof r))}}i(updateGOT,"updateGOT");function relocateExports(t,e,n){var r={};for(var o in t){var s=t[o];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=e),r[o]=s}return updateGOT(r,n),r}i(relocateExports,"relocateExports");function resolveGlobalSymbol(t,e){var n;return e&&(n=asmLibraryArg["orig$"+t]),n||(n=asmLibraryArg[t])&&n.stub&&(n=void 0),n||(n=Module[asmjsMangle(t)]),!n&&t.startsWith("invoke_")&&(n=createInvokeFunction(t.split("_")[1])),n}i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(t,e){return Math.ceil(t/e)*e}i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t,!1);return e||(e=moduleExports[t]),e}i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in asmLibraryArg)return asmLibraryArg[e];var n;return e in t||(t[e]=function(){return n||(n=resolveSymbol(e)),n.apply(null,arguments)}),t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(t){return postInstantiation(t.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(t){loadDynamicLibrary(t,flags)}),loadModule())}i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(t,e,n){e=e||{global:!0,nodelete:!0};var r=LDSO.loadedLibsByName[t];if(r)return e.global&&!r.global&&(r.global=!0,r.module!=="loading"&&mergeLibSymbols(r.module,t)),e.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,n&&(LDSO.loadedLibsByHandle[n]=r),!e.loadAsync||Promise.resolve(!0);function o(l){if(e.fs&&e.fs.findObject(l)){var u=e.fs.readFile(l,{encoding:"binary"});return u instanceof Uint8Array||(u=new Uint8Array(u)),e.loadAsync?Promise.resolve(u):u}if(l=locateFile(l),e.loadAsync)return new Promise(function(d,c){readAsync(l,_=>d(new Uint8Array(_)),c)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}i(o,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[t]){var l=preloadedWasm[t];return e.loadAsync?Promise.resolve(l):l}return e.loadAsync?o(t).then(function(u){return loadWebAssemblyModule(u,e,n)}):loadWebAssemblyModule(o(t),e,n)}i(s,"s");function a(l){r.global&&mergeLibSymbols(l,t),r.module=l}return i(a,"a"),r={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},LDSO.loadedLibsByName[t]=r,n&&(LDSO.loadedLibsByHandle[n]=r),e.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var t in GOT)if(GOT[t].value==0){var e=resolveGlobalSymbol(t,!0);if(!e&&!GOT[t].required)continue;if(typeof e=="function")GOT[t].value=addFunction(e,e.sig);else{if(typeof e!="number")throw new Error("bad export type for `"+t+"`: "+typeof e);GOT[t].value=e}}}i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}i(preloadDylibs,"preloadDylibs");function setValue(t,e,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;case"*":HEAPU32[t>>2]=e;break;default:abort("invalid type for setValue: "+n)}}i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(t,e,n){HEAPU8.copyWithin(t,e,e+n)}i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var n=getHeapMax();if(t>n)return!1;for(var r=1;r<=4;r*=2){var o=e*(1+.2/r);if(o=Math.min(o,t+100663296),emscripten_realloc_buffer(Math.min(n,(s=Math.max(t,o))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(t,e,n){if(PATH.isAbs(e))return e;var r;if(t===-100?r=FS.cwd():r=SYSCALLS.getStreamFromFD(t).path,e.length==0){if(!n)throw new FS.ErrnoError(44);return r}return PATH.join2(r,e)},doStat:function(t,e,n){try{var r=t(e)}catch(l){if(l&&l.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[n>>2]=r.dev,HEAP32[n+8>>2]=r.ino,HEAP32[n+12>>2]=r.mode,HEAPU32[n+16>>2]=r.nlink,HEAP32[n+20>>2]=r.uid,HEAP32[n+24>>2]=r.gid,HEAP32[n+28>>2]=r.rdev,tempI64=[r.size>>>0,(tempDouble=r.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+40>>2]=tempI64[0],HEAP32[n+44>>2]=tempI64[1],HEAP32[n+48>>2]=4096,HEAP32[n+52>>2]=r.blocks;var o=r.atime.getTime(),s=r.mtime.getTime(),a=r.ctime.getTime();return tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+56>>2]=tempI64[0],HEAP32[n+60>>2]=tempI64[1],HEAPU32[n+64>>2]=o%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+72>>2]=tempI64[0],HEAP32[n+76>>2]=tempI64[1],HEAPU32[n+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+88>>2]=tempI64[0],HEAP32[n+92>>2]=tempI64[1],HEAPU32[n+96>>2]=a%1e3*1e3,tempI64=[r.ino>>>0,(tempDouble=r.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+104>>2]=tempI64[0],HEAP32[n+108>>2]=tempI64[1],0},doMsync:function(t,e,n,r,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);if(2&r)return 0;var s=HEAPU8.slice(t,t+n);FS.msync(e,s,o,n,r)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(t){return UTF8ToString(t)},getStreamFromFD:function(t){var e=FS.getStream(t);if(!e)throw new FS.ErrnoError(8);return e}};function _proc_exit(t){EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit&&Module.onExit(t),ABORT=!0),quit_(t,new ExitStatus(t))}i(_proc_exit,"_proc_exit");function exitJS(t,e){EXITSTATUS=t,_proc_exit(t)}i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(t){try{var e=SYSCALLS.getStreamFromFD(t);return FS.close(e),0}catch(n){if(typeof FS>"u"||!(n instanceof FS.ErrnoError))throw n;return n.errno}}i(_fd_close,"_fd_close");function convertI32PairToI53Checked(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(t,e,n,r,o){try{var s=convertI32PairToI53Checked(e,n);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(t);return FS.llseek(a,s,r),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[o>>2]=tempI64[0],HEAP32[o+4>>2]=tempI64[1],a.getdents&&s===0&&r===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}i(_fd_seek,"_fd_seek");function doWritev(t,e,n,r){for(var o=0,s=0;s<n;s++){var a=HEAPU32[e>>2],l=HEAPU32[e+4>>2];e+=8;var u=FS.write(t,HEAP8,a,l,r);if(u<0)return-1;o+=u,r!==void 0&&(r+=u)}return o}i(doWritev,"doWritev");function _fd_write(t,e,n,r){try{var o=doWritev(SYSCALLS.getStreamFromFD(t),e,n);return HEAPU32[r>>2]=o,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}i(_fd_write,"_fd_write");function _tree_sitter_log_callback(t,e){if(currentLogCallback){let n=UTF8ToString(e);currentLogCallback(n,t!==0)}}i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(t,e,n,r,o){var s=currentParseCallback(e,{row:n,column:r});typeof s=="string"?(setValue(o,s.length,"i32"),stringToUTF16(s,t,10240)):setValue(o,0,"i32")}i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(t){if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)}i(handleException,"handleException");function allocateUTF8OnStack(t){var e=lengthBytesUTF8(t)+1,n=stackAlloc(e);return stringToUTF8Array(t,HEAP8,n,e),n}i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(t,e,n){if(n===void 0&&(n=2147483647),n<2)return 0;for(var r=e,o=(n-=2)<2*t.length?n/2:t.length,s=0;s<o;++s){var a=t.charCodeAt(s);HEAP16[e>>1]=a,e+=2}return HEAP16[e>>1]=0,e-r}i(stringToUTF16,"stringToUTF16");function AsciiToString(t){for(var e="";;){var n=HEAPU8[t++>>0];if(!n)return e;e+=String.fromCharCode(n)}}i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(t){var e=Module._main;if(e){(t=t||[]).unshift(thisProgram);var n=t.length,r=stackAlloc(4*(n+1)),o=r>>2;t.forEach(a=>{HEAP32[o++]=allocateUTF8OnStack(a)}),HEAP32[o]=0;try{var s=e(n,r);return exitJS(s,!0),s}catch(a){return handleException(a)}}}i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},"e");var dylibsLoaded=!1;function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(t),postRun()))}i(e,"t"),t=t||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()))}if(i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{i(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let n;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{n=e[0];let r=C._ts_language_version(n);if(r<MIN_COMPATIBLE_VERSION||VERSION<r)throw new Error(`Incompatible language version ${r}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else n=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],n),this}getLanguage(){return this.language}parse(e,n,r){if(typeof e=="string")currentParseCallback=i((u,d,c)=>e.slice(u,c),"currentParseCallback");else{if(typeof e!="function")throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let o=0,s=0;if(r&&r.includedRanges){o=r.includedRanges.length,s=C._calloc(o,SIZE_OF_RANGE);let u=s;for(let d=0;d<o;d++)marshalRange(u,r.includedRanges[d]),u+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],n?n[0]:0,s,o);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(typeof e!="function")throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{static{i(this,"Tree")}constructor(e,n,r,o){assertInternal(e),this[0]=n,this.language=r,this.textCallback=o}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let n=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(n);if(n>0){let s=r;for(let a=0;a<n;a++)o[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(r)}return o}}class Node{static{i(this,"Node")}constructor(e,n){assertInternal(e),this.tree=n}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let n=this.tree.language.fields.indexOf(e);if(n!==-1)return this.childForFieldId(n)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let r=n;for(let o=0;o<e;o++)this._children[o]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(n)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let r=n;for(let o=0;o<e;o++)this._namedChildren[o]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(n)}}return this._namedChildren}descendantsOfType(e,n,r){Array.isArray(e)||(e=[e]),n||(n=ZERO_POINT),r||(r=ZERO_POINT);let o=[],s=this.tree.language.types;for(let c=0,_=s.length;c<_;c++)e.includes(s[c])&&o.push(c);let a=C._malloc(SIZE_OF_INT*o.length);for(let c=0,_=o.length;c<_;c++)setValue(a+c*SIZE_OF_INT,o[c],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,o.length,n.row,n.column,r.row,r.column);let l=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(l);if(l>0){let c=u;for(let _=0;_<l;_++)d[_]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE}return C._free(u),C._free(a),d}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,n=e){if(typeof e!="number"||typeof n!="number")throw new Error("Arguments must be numbers");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,n,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,n=e){if(typeof e!="number"||typeof n!="number")throw new Error("Arguments must be numbers");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,n,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,n=e){if(!isPoint(e)||!isPoint(n))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,n),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,n=e){if(!isPoint(e)||!isPoint(n))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,n),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),n=AsciiToString(e);return C._free(e),n}}class TreeCursor{static{i(this,"TreeCursor")}constructor(e,n){assertInternal(e),this.tree=n,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),n=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,n)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{static{i(this,"Language")}constructor(e,n){assertInternal(e),this[0]=n,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let r=0,o=this.types.length;r<o;r++)C._ts_language_symbol_type(this[0],r)<2&&(this.types[r]=UTF8ToString(C._ts_language_symbol_name(this[0],r)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let r=0,o=this.fields.length;r<o;r++){let s=C._ts_language_field_name_for_id(this[0],r);this.fields[r]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){let n=this.fields.indexOf(e);return n!==-1?n:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,n){let r=lengthBytesUTF8(e),o=C._malloc(r+1);stringToUTF8(e,o,r+1);let s=C._ts_language_symbol_for_name(this[0],o,r,n);return C._free(o),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let n=C._ts_language_symbol_name(this[0],e);return n?UTF8ToString(n):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){let n=lengthBytesUTF8(e),r=C._malloc(n+1);stringToUTF8(e,r,n+1);let o=C._ts_query_new(this[0],r,n,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!o){let m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=UTF8ToString(r,getValue(TRANSFER_BUFFER,"i32")).length,y=e.substr(b,100).split(`
`)[0],g,E=y.match(QUERY_WORD_REGEX)[0];switch(m){case 2:g=new RangeError(`Bad node name '${E}'`);break;case 3:g=new RangeError(`Bad field name '${E}'`);break;case 4:g=new RangeError(`Bad capture name @${E}`);break;case 5:g=new TypeError(`Bad pattern structure at offset ${b}: '${y}'...`),E="";break;default:g=new SyntaxError(`Bad syntax at offset ${b}: '${y}'...`),E=""}throw g.index=b,g.length=E.length,C._free(r),g}let s=C._ts_query_string_count(o),a=C._ts_query_capture_count(o),l=C._ts_query_pattern_count(o),u=new Array(a),d=new Array(s);for(let m=0;m<a;m++){let b=C._ts_query_capture_name_for_id(o,m,TRANSFER_BUFFER),y=getValue(TRANSFER_BUFFER,"i32");u[m]=UTF8ToString(b,y)}for(let m=0;m<s;m++){let b=C._ts_query_string_value_for_id(o,m,TRANSFER_BUFFER),y=getValue(TRANSFER_BUFFER,"i32");d[m]=UTF8ToString(b,y)}let c=new Array(l),_=new Array(l),p=new Array(l),f=new Array(l),h=new Array(l);for(let m=0;m<l;m++){let b=C._ts_query_predicates_for_pattern(o,m,TRANSFER_BUFFER),y=getValue(TRANSFER_BUFFER,"i32");f[m]=[],h[m]=[];let g=[],E=b;for(let v=0;v<y;v++){let P=getValue(E,"i32");E+=SIZE_OF_INT;let q=getValue(E,"i32");if(E+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)g.push({type:"capture",name:u[q]});else if(P===PREDICATE_STEP_TYPE_STRING)g.push({type:"string",value:d[q]});else if(g.length>0){if(g[0].type!=="string")throw new Error("Predicates must begin with a literal value");let O=g[0].value,W=!0;switch(O){case"not-eq?":W=!1;case"eq?":if(g.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(g.length-1));if(g[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${g[1].value}"`);if(g[2].type==="capture"){let j=g[1].name,te=g[2].name;h[m].push(function(qe){let Se,on;for(let _t of qe)_t.name===j&&(Se=_t.node),_t.name===te&&(on=_t.node);return Se===void 0||on===void 0||Se.text===on.text===W})}else{let j=g[1].name,te=g[2].value;h[m].push(function(qe){for(let Se of qe)if(Se.name===j)return Se.node.text===te===W;return!0})}break;case"not-match?":W=!1;case"match?":if(g.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${g.length-1}.`);if(g[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${g[1].value}".`);if(g[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${g[2].value}.`);let oe=g[1].name,se=new RegExp(g[2].value);h[m].push(function(j){for(let te of j)if(te.name===oe)return se.test(te.node.text)===W;return!0});break;case"set!":if(g.length<2||g.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${g.length-1}.`);if(g.some(j=>j.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');c[m]||(c[m]={}),c[m][g[1].value]=g[2]?g[2].value:null;break;case"is?":case"is-not?":if(g.length<2||g.length>3)throw new Error(`Wrong number of arguments to \`#${O}\` predicate. Expected 1 or 2. Got ${g.length-1}.`);if(g.some(j=>j.type!=="string"))throw new Error(`Arguments to \`#${O}\` predicate must be a strings.".`);let ve=O==="is?"?_:p;ve[m]||(ve[m]={}),ve[m][g[1].value]=g[2]?g[2].value:null;break;default:f[m].push({operator:O,operands:g.slice(1)})}g.length=0}}Object.freeze(c[m]),Object.freeze(_[m]),Object.freeze(p[m])}return C._free(r),new Query(INTERNAL,o,u,h,f,Object.freeze(c),Object.freeze(_),Object.freeze(p))}static load(e){let n;if(e instanceof Uint8Array)n=Promise.resolve(e);else{let o=e;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");n=Promise.resolve(s.readFileSync(o))}else n=fetch(o).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let r=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return n.then(o=>r(o,{loadAsync:!0})).then(o=>{let s=Object.keys(o),a=s.find(u=>LANGUAGE_FUNCTION_REGEX.test(u)&&!u.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=o[a]();return new Language(INTERNAL,l)})}}class Query{static{i(this,"Query")}constructor(e,n,r,o,s,a,l,u){assertInternal(e),this[0]=n,this.captureNames=r,this.textPredicates=o,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=u,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,n,r,o){n||(n=ZERO_POINT),r||(r=ZERO_POINT),o||(o={});let s=o.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],n.row,n.column,r.row,r.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),d=new Array(a);this.exceededMatchLimit=!!u;let c=0,_=l;for(let p=0;p<a;p++){let f=getValue(_,"i32");_+=SIZE_OF_INT;let h=getValue(_,"i32");_+=SIZE_OF_INT;let m=new Array(h);if(_=unmarshalCaptures(this,e.tree,_,m),this.textPredicates[f].every(b=>b(m))){d[c++]={pattern:f,captures:m};let b=this.setProperties[f];b&&(d[p].setProperties=b);let y=this.assertedProperties[f];y&&(d[p].assertedProperties=y);let g=this.refutedProperties[f];g&&(d[p].refutedProperties=g)}}return d.length=c,C._free(l),d}captures(e,n,r,o){n||(n=ZERO_POINT),r||(r=ZERO_POINT),o||(o={});let s=o.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],n.row,n.column,r.row,r.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),d=[];this.exceededMatchLimit=!!u;let c=[],_=l;for(let p=0;p<a;p++){let f=getValue(_,"i32");_+=SIZE_OF_INT;let h=getValue(_,"i32");_+=SIZE_OF_INT;let m=getValue(_,"i32");if(_+=SIZE_OF_INT,c.length=h,_=unmarshalCaptures(this,e.tree,_,c),this.textPredicates[f].every(b=>b(c))){let b=c[m],y=this.setProperties[f];y&&(b.setProperties=y);let g=this.assertedProperties[f];g&&(b.assertedProperties=g);let E=this.refutedProperties[f];E&&(b.refutedProperties=E),d.push(b)}}return C._free(l),d}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,n){let r=n-e,o=t.textCallback(e,null,n);for(e+=o.length;e<n;){let s=t.textCallback(e,null,n);if(!(s&&s.length>0))break;e+=s.length,o+=s}return e>n&&(o=o.slice(0,r)),o}i(getText,"getText");function unmarshalCaptures(t,e,n,r){for(let o=0,s=r.length;o<s;o++){let a=getValue(n,"i32"),l=unmarshalNode(e,n+=SIZE_OF_INT);n+=SIZE_OF_NODE,r[o]={name:t.captureNames[a],node:l}}return n}i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}i(assertInternal,"assertInternal");function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}i(isPoint,"isPoint");function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}i(marshalNode,"marshalNode");function unmarshalNode(t,e=TRANSFER_BUFFER){let n=getValue(e,"i32");if(n===0)return null;let r=getValue(e+=SIZE_OF_INT,"i32"),o=getValue(e+=SIZE_OF_INT,"i32"),s=getValue(e+=SIZE_OF_INT,"i32"),a=getValue(e+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,t);return l.id=n,l.startIndex=r,l.startPosition={row:o,column:s},l[0]=a,l}i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32")}i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}i(marshalPoint,"marshalPoint");function unmarshalPoint(t){return{row:getValue(t,"i32"),column:getValue(t+SIZE_OF_INT,"i32")}}i(unmarshalPoint,"unmarshalPoint");function marshalRange(t,e){marshalPoint(t,e.startPosition),marshalPoint(t+=SIZE_OF_POINT,e.endPosition),setValue(t+=SIZE_OF_POINT,e.startIndex,"i32"),setValue(t+=SIZE_OF_INT,e.endIndex,"i32"),t+=SIZE_OF_INT}i(marshalRange,"marshalRange");function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32"),t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32"),e}i(unmarshalRange,"unmarshalRange");function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}i(marshalEdit,"marshalEdit");for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function ut(t){return t in dr}function z(t){if(!(t in dr))throw new Error(`Unrecognized language: ${t}`);return dr[t]}async function Ka(t){await en.default.init();let e;try{e=await Ss.promises.readFile((0,Ts.resolve)(__dirname,"..","dist",`tree-sitter-${t}.wasm`))}catch(n){if(typeof n.code=="string"&&n instanceof Error&&n.name==="Error"){let r=new Error(`Could not load tree-sitter-${t}.wasm`);throw r.code="CopilotPromptLoadFailure",r.cause=n,r}throw n}return en.default.Language.load(e)}async function Is(t){let e=z(t);if(!cr.has(e)){let n=await Ka(e);cr.set(e,n)}return cr.get(e)}async function Ue(t,e){let n=await Is(t),r;try{r=new en.default}catch(s){let a=s.message;if(a&&a.includes("table index is out of bounds")){let l=new Error(`Could not init Parse for language <${t}>`);throw l.cause=s,l}throw s}r.setLanguage(n);let o=r.parse(e);return r.delete(),o}async function Ja(t,e){let n=await Ue(t,e),r=!n.rootNode.hasError();return n.delete(),r}function Qa(t){switch(z(t)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}function ct(t,e){let n=[];for(let r of t){if(!r[1]){let o=e.tree.getLanguage();r[1]=o.query(r[0])}n.push(...r[1].matches(e))}return n}function Ls(t,e){let n=qa[z(t)];return ct(n,e)}function Xa(t,e){let n=Va[z(t)];return ct(n,e)}function Ya(t,e){let n=Ha[z(t)];return ct(n,e)}function el(t,e){let n=Za[z(t)];return ct(n,e)}function _r(t){return ct([tl],t).length==1}function nl(t,e){let n=Ga[z(t)];for(;e.parent;){if(n(e.parent))return e;e=e.parent}return e.parent?e:null}function Yt(t,e){return $a[z(t)].has(e.type)}function rl(t,e){switch(z(t)){case"python":case"go":case"ruby":return Yt(t,e);case"javascript":case"typescript":case"tsx":if(e.type==="function_declaration"||e.type==="generator_function_declaration"||e.type==="method_definition")return!0;if(e.type==="lexical_declaration"||e.type==="variable_declaration"){if(e.namedChildCount>1)return!1;let n=e.namedChild(0);if(n==null)return!1;let r=n.namedChild(1);return r!==null&&Yt(t,r)}if(e.type==="expression_statement"){let n=e.namedChild(0);if(n?.type==="assignment_expression"){let r=n.namedChild(1);return r!==null&&Yt(t,r)}}return!1}}function ol(t){let e=t;for(;e.previousSibling?.type==="comment";){let n=e.previousSibling;if(n.endPosition.row<e.startPosition.row-1)break;e=n}return e?.type==="comment"?e:null}async function sl(t,e){let n=await Ue(t,e),o=Ls(t,n.rootNode).map(s=>{let a=s.captures.find(l=>l.name==="function").node;return{startIndex:a.startIndex,endIndex:a.endIndex}});return n.delete(),o}var Ss,Ts,en,Ms,dr,ar,qa,ja,Es,xs,vs,Va,lr,Ha,Za,ur,$a,Ga,cr,tl,pr=S(()=>{"use strict";Ss=require("fs"),Ts=require("path"),en=mr(ws()),Ms=(a=>(a.Python="python",a.JavaScript="javascript",a.TypeScript="typescript",a.TSX="tsx",a.Go="go",a.Ruby="ruby",a))(Ms||{}),dr={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};i(ut,"isSupportedLanguageId");i(z,"languageIdToWasmLanguage");ar=`[
    (function body: (statement_block) @body)
    (function_declaration body: (statement_block) @body)
    (generator_function body: (statement_block) @body)
    (generator_function_declaration body: (statement_block) @body)
    (method_definition body: (statement_block) @body)
    (arrow_function body: (statement_block) @body)
  ] @function`,qa={python:[[`(function_definition body: (block
             (expression_statement (string))? @docstring) @body) @function`],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[ar]],typescript:[[ar]],tsx:[[ar]],go:[[`[
            (function_declaration body: (block) @body)
            (method_declaration body: (block) @body)
          ] @function`]],ruby:[[`[
            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
          ] @function`]]},ja='(call_expression function: ((identifier) @req (#eq? @req "require")))',Es=`(variable_declarator value: ${ja})`,xs=`
    (lexical_declaration ${Es}+)
    (variable_declaration ${Es}+)
`,vs=[[`(program [ ${xs} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],Va={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${xs} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:vs,tsx:vs,go:[],ruby:[]},lr=[["(program (export_statement) @export)"]],Ha={python:[],javascript:lr,typescript:lr,tsx:lr,go:[],ruby:[]},Za={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},ur=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],$a={python:new Set(["function_definition"]),javascript:new Set(ur),typescript:new Set(ur),tsx:new Set(ur),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},Ga={python:t=>t.type==="module"||t.type==="block"&&t.parent?.type==="class_definition",javascript:t=>t.type==="program"||t.type==="class_body",typescript:t=>t.type==="program"||t.type==="class_body",tsx:t=>t.type==="program"||t.type==="class_body",go:t=>t.type==="source_file",ruby:t=>t.type==="program"||t.type==="class"},cr=new Map;i(Ka,"loadWasmLanguage");i(Is,"getLanguage");i(Ue,"parseTreeSitter");i(Ja,"parsesWithoutError");i(Qa,"getBlockCloseToken");i(ct,"innerQuery");i(Ls,"queryFunctions");i(Xa,"queryImports");i(Ya,"queryExports");i(el,"queryGlobalVars");tl=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];i(_r,"queryPythonIsDocstring");i(nl,"getAncestorWithSiblingFunctions");i(Yt,"isFunction");i(rl,"isFunctionDefinition");i(ol,"getFirstPrecedingComment");i(sl,"getFunctionPositions")});function il(t,e){let n=t.lastIndexOf(`
`,e-1),r=t.indexOf(`
`,e);return r<0&&(r=t.length),t.slice(n+1,r)}function Ns(t,e){let n=e;for(;n>0&&/\s/.test(t.charAt(n-1));)n--;return n}function ks(t,e){let n=t.startIndex,r=t.startIndex-t.startPosition.column,o=e.substring(r,n);if(/^\s*$/.test(o))return o}function al(t,e,n){if(e.startPosition.row<=t.startPosition.row)return!1;let r=ks(t,n),o=ks(e,n);return r!==void 0&&o!==void 0&&r.startsWith(o)}function rn(t){return ll[z(t)]}async function ul(t,e,n){return ut(t)?rn(t).isEmptyBlockStart(e,n):!1}async function cl(t,e,n,r){if(ut(t))return rn(t).isBlockBodyFinished(e,n,r)}async function dl(t,e,n){if(ut(t))return rn(t).getNodeStart(e,n)}var tn,nn,ze,ll,Ps=S(()=>{"use strict";pr();tn=class{constructor(e,n,r){this.languageId=e;this.nodeMatch=n;this.nodeTypesWithBlockOrStmtChild=r}static{i(this,"BaseBlockParser")}async getNodeMatchAtPosition(e,n,r){let o=await Ue(this.languageId,e);try{let a=o.rootNode.descendantForIndex(n);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let u=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((u==""?a.namedChildren[0]:a.childForFieldName(u))?.type==l)break}a=a.parent}return a?r(a):void 0}finally{o.delete()}}getNextBlockAtPosition(e,n,r){return this.getNodeMatchAtPosition(e,n,o=>{let s=o.children.reverse().find(a=>a.type==this.nodeMatch[o.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let u=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,d=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(u||d)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return r(s)}})}async isBlockBodyFinished(e,n,r){let o=(e+n).trimEnd(),s=await this.getNextBlockAtPosition(o,r,a=>a.endIndex);if(s!==void 0&&s<o.length){let a=s-e.length;return a>0?a:void 0}}getNodeStart(e,n){let r=e.trimEnd();return this.getNodeMatchAtPosition(r,n,o=>o.startIndex)}},nn=class extends tn{constructor(n,r,o,s,a){super(n,s,a);this.blockEmptyMatch=r;this.lineMatch=o}static{i(this,"RegexBasedBlockParser")}isBlockStart(n){return this.lineMatch.test(n.trimStart())}async isBlockBodyEmpty(n,r){let o=await this.getNextBlockAtPosition(n,r,s=>{s.startIndex<r&&(r=s.startIndex);let a=n.substring(r,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return o===void 0||o}async isEmptyBlockStart(n,r){return r=Ns(n,r),this.isBlockStart(il(n,r))&&this.isBlockBodyEmpty(n,r)}};i(il,"getLineAtOffset");i(Ns,"rewindToNearestNonWs");i(ks,"indent");i(al,"outdented");ze=class extends tn{constructor(n,r,o,s,a,l,u){super(n,r,o);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=u}static{i(this,"TreeSitterBasedBlockParser")}isBlockEmpty(n,r){let o=n.text.trim();return this.curlyBraceLanguage&&(o.startsWith("{")&&(o=o.slice(1)),o.endsWith("}")&&(o=o.slice(0,-1)),o=o.trim()),!!(o.length==0||this.languageId=="python"&&(n.parent?.type=="class_definition"||n.parent?.type=="function_definition")&&n.children.length==1&&_r(n.parent))}async isEmptyBlockStart(n,r){if(r>n.length)throw new RangeError("Invalid offset");for(let s=r;s<n.length&&n.charAt(s)!=`
`;s++)if(/\S/.test(n.charAt(s)))return!1;r=Ns(n,r);let o=await Ue(this.languageId,n);try{let s=o.rootNode.descendantForIndex(r-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let c=s;for(;c.parent;){if(c.type=="function_signature"||c.type=="method_signature"){let _=s.nextSibling;return _&&c.hasError()&&al(c,_,n)?!0:!c.children.find(f=>f.type==";")&&c.endIndex<=r}c=c.parent}}let a=null,l=null,u=null,d=s;for(;d!=null;){if(d.type==this.blockNodeType){l=d;break}if(this.nodeMatch[d.type]){u=d;break}if(d.type=="ERROR"){a=d;break}d=d.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let c=l.previousSibling;if(c!=null&&c.hasError()&&(c.text.startsWith('"""')||c.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,r)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let c=[...a.children].reverse(),_=c.find(f=>this.startKeywords.includes(f.type)),p=c.find(f=>f.type==this.blockNodeType);if(_){switch(this.languageId){case"python":{_.type=="try"&&s.type=="identifier"&&s.text.length>4&&(p=c.find(m=>m.hasError())?.children.find(m=>m.type=="block"));let f,h=0;for(let m of a.children){if(m.type==":"&&h==0){f=m;break}m.type=="("&&(h+=1),m.type==")"&&(h-=1)}if(f&&_.endIndex<=f.startIndex&&f.nextSibling){if(_.type=="def"){let m=f.nextSibling;if(m.type=='"'||m.type=="'"||m.type=="ERROR"&&(m.text=='"""'||m.text=="'''"))return!0}return!1}break}case"javascript":{let f=c.find(b=>b.type=="formal_parameters");if(_.type=="class"&&f)return!0;let h=c.find(b=>b.type=="{");if(h&&h.startIndex>_.endIndex&&h.nextSibling!=null||c.find(b=>b.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}case"typescript":{let f=c.find(m=>m.type=="{");if(f&&f.startIndex>_.endIndex&&f.nextSibling!=null||c.find(m=>m.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}}return p&&p.startIndex>_.endIndex?this.isBlockEmpty(p,r):!0}}if(u!=null){let c=this.nodeMatch[u.type],_=u.children.slice().reverse().find(p=>p.type==c);if(_)return this.isBlockEmpty(_,r);if(this.nodeTypesWithBlockOrStmtChild.has(u.type)){let p=this.nodeTypesWithBlockOrStmtChild.get(u.type),f=p==""?u.children[0]:u.childForFieldName(p);if(f&&f.type!=this.blockNodeType&&f.type!=this.emptyStatementType)return!1}return!0}return!1}finally{o.delete()}}},ll={python:new ze("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new ze("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new ze("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new ze("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new nn("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new nn("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};i(rn,"getBlockParser");i(ul,"isEmptyBlockStart");i(cl,"isBlockBodyFinished");i(dl,"getNodeStart")});var Fs={};qs(Fs,{DEFAULT_MAX_COMPLETION_LENGTH:()=>ts,DEFAULT_MAX_PROMPT_LENGTH:()=>ns,DEFAULT_NUM_SNIPPETS:()=>rs,DEFAULT_SUFFIX_MATCH_THRESHOLD:()=>ss,DEFAULT_SUFFIX_PERCENT:()=>Aa,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>Io,ElidableText:()=>nt,LineEndingOptions:()=>Yn,LineWithValueAndCost:()=>Oe,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>os,PromptOptions:()=>Zt,ProviderTimeoutError:()=>_e,SimilarFilesOption:()=>at,SnippetOrchestrator:()=>Xt,SnippetProviderType:()=>X,SnippetSemantics:()=>ye,SuffixMatchOption:()=>as,SuffixOption:()=>is,TTokenizer:()=>Mt,TokenizerName:()=>xt,WASMLanguage:()=>Ms,blankNode:()=>Lt,buildLabelRules:()=>Ae,clearLabels:()=>fo,clearLabelsIf:()=>zn,combineClosersAndOpeners:()=>kt,comment:()=>ot,commentBlockAsSingles:()=>Be,createWorker:()=>_l,cutTreeAfterLine:()=>Hi,deparseAndCutTree:()=>ta,deparseLine:()=>et,deparseTree:()=>Eo,describeTree:()=>vo,duplicateTree:()=>Zi,elidableTextForDiff:()=>pa,elidableTextForSourceCode:()=>Vn,encodeTree:()=>So,firstLineOf:()=>To,flattenVirtual:()=>Q,foldTree:()=>Qe,fromTreeWithFocussedLines:()=>Re,fromTreeWithValuedLines:()=>Lo,getAncestorWithSiblingFunctions:()=>nl,getBlockCloseToken:()=>Qa,getBlockParser:()=>rn,getCursorContext:()=>Ft,getFirstPrecedingComment:()=>ol,getFunctionPositions:()=>sl,getLanguage:()=>Is,getNodeStart:()=>dl,getPrompt:()=>Ra,getTokenizer:()=>H,groupBlocks:()=>qn,isBlank:()=>M,isBlockBodyFinished:()=>cl,isEmptyBlockStart:()=>ul,isFunction:()=>Yt,isFunctionDefinition:()=>rl,isLine:()=>Z,isSupportedLanguageId:()=>ut,isTop:()=>ue,isVirtual:()=>D,labelLines:()=>Ce,labelVirtualInherited:()=>Ye,languageCommentMarkers:()=>At,languageIdToWasmLanguage:()=>z,lastLineOf:()=>Mo,lineNode:()=>Un,mapLabels:()=>J,normalizeLanguageId:()=>de,parseRaw:()=>mo,parseTree:()=>ce,parseTreeSitter:()=>Ue,parsesWithoutError:()=>Ja,providersErrors:()=>bs,providersPerformance:()=>ys,providersSnippets:()=>gs,queryExports:()=>Ya,queryFunctions:()=>Ls,queryGlobalVars:()=>el,queryImports:()=>Xa,queryPythonIsDocstring:()=>_r,rebuildTree:()=>Xe,registerLanguageSpecificParser:()=>Nt,resetLineNumbers:()=>$i,topNode:()=>Je,virtualNode:()=>It,visitTree:()=>I,visitTreeConditionally:()=>Gi});function _l(){return new As.Worker((0,Cs.resolve)(__dirname,"..","dist","worker.js"),{workerData:{cwd:process.cwd()}})}var Cs,As,qt=S(()=>{"use strict";Cs=require("path"),As=require("worker_threads");Ro();tt();be();sr();pr();Ps();We();Xn();nr();lt();we();Ee();Ne();i(_l,"createWorker")});Ln();var Rs=(qt(),js(Fs)),{parentPort:dt,workerData:Os}=require("worker_threads");Os?.cwd&&(process.cwd=()=>Os.cwd);dt.on("message",async({id:t,fn:e,args:n})=>{try{if(e==="getPrompt"){let r=await Rs.getPrompt(...n);dt.postMessage({id:t,res:r})}else{let r=await Rs[e](...n);dt.postMessage({id:t,res:r})}}catch(r){if(!(r instanceof Error))throw r;typeof r.code=="string"?dt.postMessage({id:t,err:r,code:r.code}):dt.postMessage({id:t,err:r})}});
//# sourceMappingURL=worker.js.map
